{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{FiSend,FiMessageCircle,FiDownload,FiCopy,FiMic,FiMicOff,FiVolume2,FiVolumeX}from'react-icons/fi';import'../styles/ai-bot.css';// Extend Window interface for speech recognition\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const AIBotPanel=_ref=>{let{applicationId,applicationName}=_ref;const[messages,setMessages]=useState([{id:'1',type:'bot',content:\"Hello! I'm your NOC & Licensing Assistant. I can help you with:\\n\\n\\u2022 Questions about \".concat(applicationName,\"'s evaluation\\n\\u2022 Analysis of documents\\n\\u2022 Recommendations for compliance\\n\\u2022 Clarification on evaluation criteria\\n\\nWhat would you like to know?\"),timestamp:new Date()}]);const[inputValue,setInputValue]=useState('');const[isLoading,setIsLoading]=useState(false);const messagesEndRef=useRef(null);// STT (Speech-to-Text) state\nconst[isListening,setIsListening]=useState(false);const[isSttSupported,setIsSttSupported]=useState(false);const recognitionRef=useRef(null);// TTS (Text-to-Speech) state\nconst[isTtsEnabled,setIsTtsEnabled]=useState(true);const[isSpeaking,setIsSpeaking]=useState(false);const[isTtsSupported,setIsTtsSupported]=useState(false);const speechSynthRef=useRef(null);// Initialize Speech Recognition (STT)\nuseEffect(()=>{const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;setIsSttSupported(!!SpeechRecognition);if(SpeechRecognition){recognitionRef.current=new SpeechRecognition();recognitionRef.current.continuous=false;recognitionRef.current.interimResults=true;recognitionRef.current.lang='en-US';recognitionRef.current.onstart=()=>setIsListening(true);recognitionRef.current.onend=()=>setIsListening(false);recognitionRef.current.onresult=event=>{let finalTranscript='';for(let i=0;i<event.results.length;i++){if(event.results[i].isFinal){finalTranscript+=event.results[i][0].transcript;}}if(finalTranscript){setInputValue(prev=>prev+finalTranscript);}};recognitionRef.current.onerror=event=>{console.error('Speech recognition error:',event.error);setIsListening(false);};}return()=>{if(recognitionRef.current){recognitionRef.current.stop();}};},[]);// Initialize TTS\nuseEffect(()=>{setIsTtsSupported('speechSynthesis'in window);},[]);// TTS function to speak text\nconst speakText=text=>{if(!isTtsSupported||!isTtsEnabled)return;// Cancel any ongoing speech\nwindow.speechSynthesis.cancel();// Clean text for speech (remove markdown symbols)\nconst cleanText=text.replace(/\\*\\*/g,'').replace(/\\n\\n/g,'. ').replace(/\\n/g,'. ').replace(/â€¢/g,'').replace(/\\d+\\./g,'');const utterance=new SpeechSynthesisUtterance(cleanText);utterance.rate=1;utterance.pitch=1;utterance.volume=1;utterance.lang='en-US';utterance.onstart=()=>setIsSpeaking(true);utterance.onend=()=>setIsSpeaking(false);utterance.onerror=()=>setIsSpeaking(false);speechSynthRef.current=utterance;window.speechSynthesis.speak(utterance);};// Stop speaking\nconst stopSpeaking=()=>{window.speechSynthesis.cancel();setIsSpeaking(false);};// Toggle listening (STT)\nconst toggleListening=()=>{if(!isSttSupported)return;if(isListening){var _recognitionRef$curre;(_recognitionRef$curre=recognitionRef.current)===null||_recognitionRef$curre===void 0?void 0:_recognitionRef$curre.stop();}else{var _recognitionRef$curre2;(_recognitionRef$curre2=recognitionRef.current)===null||_recognitionRef$curre2===void 0?void 0:_recognitionRef$curre2.start();}};// Toggle TTS enabled/disabled\nconst toggleTts=()=>{if(isSpeaking){stopSpeaking();}setIsTtsEnabled(!isTtsEnabled);};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const generateBotResponse=userMessage=>{const lowerMessage=userMessage.toLowerCase();// Predefined responses based on keywords\nconst responses={'evaluation|assessment|criteria':\"Based on \".concat(applicationName,\"'s evaluation, here are the key assessment areas:\\n\\n1. **Corporate Assessment**: Business registration, incorporation documents, shareholder details\\n2. **Licensing Assessment**: Regulatory compliance, permission letters from authorities\\n3. **Financial Assessment**: Revenue verification, financial statements, banking relationships\\n4. **Technical Assessment**: Technology infrastructure, security measures, API documentation\\n5. **Compliance Assessment**: AML/KYC procedures, sanctions screening, customer verification\\n6. **Data Protection**: Data handling policies, encryption standards, GDPR compliance\\n7. **Risk Assessment**: Operational risks, market exposure, vendor dependencies\\n8. **Pakistan Readiness**: Local regulatory compliance, Urdu documentation, local partnerships\\n\\nWould you like details on any specific area?\"),'document|file|upload':\"You can manage documents in the Document Management section:\\n\\n\\u2022 **Upload**: Click \\\"Upload Document\\\" to add files (PDF, DOCX, XLSX, images)\\n\\u2022 **Version Control**: Each upload creates a new version\\n\\u2022 **Feedback**: Reviewers can add feedback with severity levels\\n\\u2022 **Track Changes**: See who made what changes and when\\n\\u2022 **History**: Access previous versions of documents\\n\\nWhat documents do you need to work with?\",'noc|notice of compliance|signature':\"The NOC (Notice of Compliance) can be created when the application is ready:\\n\\n1. Navigate to the NOC Creation panel\\n2. System auto-generates a license number (PVARA-NOC-YYYY-NNNNN format)\\n3. Set validity dates (typically 1-5 years)\\n4. Add compliance conditions\\n5. Add signatories:\\n   - Authorizer (usually senior official)\\n   - Reviewer (compliance officer)\\n   - Additional signatories as needed\\n6. Download as formatted document\\n7. Signatures can be added manually or digitally\\n\\nNeed help with any specific part?\",'feedback|comment|review':\"The Feedback system works as follows:\\n\\n1. **Adding Feedback**: Go to Document Management \\u2192 Select document \\u2192 Add Feedback\\n2. **Priority Levels**: Low, Medium, High, Critical\\n3. **Categories**: Can be any heading (e.g., \\\"KYC Procedures\\\", \\\"API Documentation\\\")\\n4. **Feedback Status**: Pending \\u2192 Accept/Reject\\n5. **Change Trail**: Track who suggested what and when\\n\\nFeedback helps ensure documents meet all requirements before NOC issuance.\",'phase|stage|workflow|process':\"The NOC + Licensing Tool follows a 5-phase workflow:\\n\\n**Phase 1: Application Intake**\\n- Application submission and initial validation\\n\\n**Phase 2: Comprehensive Evaluation**\\n- 8-dimensional due diligence assessment\\n- Document review and feedback\\n\\n**Phase 3: NOC Creation** (Currently Active)\\n- Document finalization\\n- NOC generation and signatures\\n- License number assignment\\n\\n**Phase 4: Licensing** (Currently Locked)\\n- Annual/periodic license renewal\\n- Compliance updates\\n\\n**Phase 5: Archive**\\n- Completed applications storage\\n\\nThe system moves applications through phases as criteria are met.\",'recommend|compliance|improve':\"To improve \".concat(applicationName,\"'s compliance status:\\n\\n1. **Complete All Documents**: Ensure all required documents are uploaded\\n2. **Address Feedback**: Review and accept/address all feedback items\\n3. **Documentation**: Provide clear, professional documentation\\n4. **Signatures**: Ensure all signatories are authorized and approved\\n5. **Audit Trail**: Maintain clear records of changes and approvals\\n\\nWould you like specific recommendations for any area?\"),'help|how':\"I can assist you with:\\n\\n\\uD83D\\uDCCB **Workflow Questions**: Phase explanations, application status\\n\\uD83D\\uDCC4 **Documents**: Upload, version control, feedback management\\n\\uD83D\\uDCDD **NOC**: Creation process, signatures, license numbers\\n\\uD83D\\uDCCA **Evaluation**: Assessment criteria, scoring\\n\\uD83D\\uDD0D **Compliance**: Best practices, recommendations\\n\\nJust ask your question naturally!\",'default':\"Thank you for your question about \".concat(applicationName,\". Based on the context:\\n\\nI can help with:\\n\\u2022 The evaluation process and criteria\\n\\u2022 Document management and versioning\\n\\u2022 NOC creation and signatures\\n\\u2022 Compliance recommendations\\n\\u2022 Workflow and phase management\\n\\nCould you be more specific? For example: \\\"How do I add signatures to the NOC?\\\" or \\\"What are the evaluation criteria?\\\"\")};// Find matching response\nfor(const[keywords,response]of Object.entries(responses)){const keywordArray=keywords.split('|');if(keywordArray.some(kw=>lowerMessage.includes(kw))){return response;}}return responses['default'];};const handleSendMessage=async()=>{if(!inputValue.trim())return;// Stop any ongoing speech when sending new message\nif(isSpeaking){stopSpeaking();}// Add user message\nconst userMessage={id:Date.now().toString(),type:'user',content:inputValue,timestamp:new Date()};const userInput=inputValue;setMessages(prev=>[...prev,userMessage]);setInputValue('');setIsLoading(true);// Simulate bot response delay\nsetTimeout(()=>{const responseContent=generateBotResponse(userInput);const botResponse={id:(Date.now()+1).toString(),type:'bot',content:responseContent,timestamp:new Date(),sources:['Evaluation Data','System Knowledge Base']};setMessages(prev=>[...prev,botResponse]);setIsLoading(false);// Speak the response if TTS is enabled\nif(isTtsEnabled){speakText(responseContent);}},800);};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};const downloadConversation=()=>{const transcript=messages.map(m=>\"[\".concat(m.type.toUpperCase(),\"] \").concat(m.timestamp.toLocaleTimeString(),\"\\n\").concat(m.content,\"\\n\")).join('\\n---\\n\\n');const element=document.createElement('a');element.setAttribute('href','data:text/plain;charset=utf-8,'+encodeURIComponent(transcript));element.setAttribute('download',\"conversation-\".concat(applicationId,\".txt\"));element.style.display='none';document.body.appendChild(element);element.click();document.body.removeChild(element);};const copyLastMessage=()=>{const lastBotMessage=[...messages].reverse().find(m=>m.type==='bot');if(lastBotMessage){navigator.clipboard.writeText(lastBotMessage.content);alert('Message copied to clipboard');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"ai-bot-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bot-header card-glass\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bot-title\",children:[/*#__PURE__*/_jsx(FiMessageCircle,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-bold\",children:\"NOC Assistant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-secondary\",children:applicationName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bot-actions\",children:[isTtsSupported&&/*#__PURE__*/_jsx(\"button\",{onClick:toggleTts,className:\"bot-action-btn \".concat(isTtsEnabled?'active':''),title:isTtsEnabled?'Disable voice responses':'Enable voice responses',children:isTtsEnabled?/*#__PURE__*/_jsx(FiVolume2,{size:16}):/*#__PURE__*/_jsx(FiVolumeX,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadConversation,className:\"bot-action-btn\",title:\"Download conversation\",children:/*#__PURE__*/_jsx(FiDownload,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:copyLastMessage,className:\"bot-action-btn\",title:\"Copy last message\",children:/*#__PURE__*/_jsx(FiCopy,{size:16})})]})]}),(isListening||isSpeaking)&&/*#__PURE__*/_jsxs(\"div\",{className:\"voice-status-bar\",children:[isListening&&/*#__PURE__*/_jsxs(\"div\",{className:\"voice-status listening\",children:[/*#__PURE__*/_jsx(FiMic,{size:14,className:\"pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Listening... Speak now\"})]}),isSpeaking&&/*#__PURE__*/_jsxs(\"div\",{className:\"voice-status speaking\",children:[/*#__PURE__*/_jsx(FiVolume2,{size:14,className:\"pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Speaking...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:stopSpeaking,className:\"stop-speaking-btn\",children:\"Stop\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bot-messages\",children:[messages.map(message=>/*#__PURE__*/_jsxs(\"div\",{className:\"message message-\".concat(message.type),children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-avatar\",children:message.type==='bot'?/*#__PURE__*/_jsx(FiMessageCircle,{}):/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:\"U\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-bubble\",children:/*#__PURE__*/_jsx(\"p\",{children:message.content})}),message.sources&&/*#__PURE__*/_jsx(\"div\",{className:\"message-sources\",children:message.sources.map((source,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"source-badge\",children:source},idx))}),/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:message.timestamp.toLocaleTimeString()})]})]},message.id)),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"message message-bot\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-avatar\",children:/*#__PURE__*/_jsx(FiMessageCircle,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble loading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"loading-dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"loading-dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"loading-dot\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bot-input-area card-glass\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrapper\",children:[isSttSupported&&/*#__PURE__*/_jsx(\"button\",{onClick:toggleListening,className:\"mic-btn \".concat(isListening?'listening':''),title:isListening?'Stop listening':'Start voice input',type:\"button\",children:isListening?/*#__PURE__*/_jsx(FiMicOff,{size:18}):/*#__PURE__*/_jsx(FiMic,{size:18})}),/*#__PURE__*/_jsx(\"textarea\",{value:inputValue,onChange:e=>setInputValue(e.target.value),onKeyPress:handleKeyPress,placeholder:isListening?\"Listening... speak now\":\"Ask about the application, documents, NOC creation, or compliance...\",className:\"bot-input\",rows:2}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!inputValue.trim()||isLoading,className:\"send-btn\",title:\"Send message\",children:/*#__PURE__*/_jsx(FiSend,{size:18})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-hints\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-tertiary\",children:[isSttSupported?'ðŸŽ¤ Click mic to speak â€¢ ':'',\"\\uD83D\\uDCA1 Try: \\\"What are the evaluation criteria?\\\" or \\\"How do I add signatures?\\\"\"]})})]})]});};","map":{"version":3,"names":["React","useState","useRef","useEffect","FiSend","FiMessageCircle","FiDownload","FiCopy","FiMic","FiMicOff","FiVolume2","FiVolumeX","jsx","_jsx","jsxs","_jsxs","AIBotPanel","_ref","applicationId","applicationName","messages","setMessages","id","type","content","concat","timestamp","Date","inputValue","setInputValue","isLoading","setIsLoading","messagesEndRef","isListening","setIsListening","isSttSupported","setIsSttSupported","recognitionRef","isTtsEnabled","setIsTtsEnabled","isSpeaking","setIsSpeaking","isTtsSupported","setIsTtsSupported","speechSynthRef","SpeechRecognition","window","webkitSpeechRecognition","current","continuous","interimResults","lang","onstart","onend","onresult","event","finalTranscript","i","results","length","isFinal","transcript","prev","onerror","console","error","stop","speakText","text","speechSynthesis","cancel","cleanText","replace","utterance","SpeechSynthesisUtterance","rate","pitch","volume","speak","stopSpeaking","toggleListening","_recognitionRef$curre","_recognitionRef$curre2","start","toggleTts","scrollToBottom","_messagesEndRef$curre","scrollIntoView","behavior","generateBotResponse","userMessage","lowerMessage","toLowerCase","responses","keywords","response","Object","entries","keywordArray","split","some","kw","includes","handleSendMessage","trim","now","toString","userInput","setTimeout","responseContent","botResponse","sources","handleKeyPress","e","key","shiftKey","preventDefault","downloadConversation","map","m","toUpperCase","toLocaleTimeString","join","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","copyLastMessage","lastBotMessage","reverse","find","navigator","clipboard","writeText","alert","className","children","size","onClick","title","message","source","idx","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled"],"sources":["/Users/ubl/Desktop/PVARA-Frontend/src/components/AIBotPanel.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { FiSend, FiMessageCircle, FiDownload, FiCopy, FiMic, FiMicOff, FiVolume2, FiVolumeX } from 'react-icons/fi';\nimport '../styles/ai-bot.css';\n\ninterface AIBotPanelProps {\n  applicationId: string;\n  applicationName: string;\n}\n\ninterface Message {\n  id: string;\n  type: 'user' | 'bot';\n  content: string;\n  timestamp: Date;\n  sources?: string[];\n}\n\n// Extend Window interface for speech recognition\ndeclare global {\n  interface Window {\n    SpeechRecognition: any;\n    webkitSpeechRecognition: any;\n  }\n}\n\nexport const AIBotPanel: React.FC<AIBotPanelProps> = ({ applicationId, applicationName }) => {\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: '1',\n      type: 'bot',\n      content: `Hello! I'm your NOC & Licensing Assistant. I can help you with:\\n\\nâ€¢ Questions about ${applicationName}'s evaluation\\nâ€¢ Analysis of documents\\nâ€¢ Recommendations for compliance\\nâ€¢ Clarification on evaluation criteria\\n\\nWhat would you like to know?`,\n      timestamp: new Date(),\n    },\n  ]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  \n  // STT (Speech-to-Text) state\n  const [isListening, setIsListening] = useState(false);\n  const [isSttSupported, setIsSttSupported] = useState(false);\n  const recognitionRef = useRef<any>(null);\n  \n  // TTS (Text-to-Speech) state\n  const [isTtsEnabled, setIsTtsEnabled] = useState(true);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [isTtsSupported, setIsTtsSupported] = useState(false);\n  const speechSynthRef = useRef<SpeechSynthesisUtterance | null>(null);\n\n  // Initialize Speech Recognition (STT)\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    setIsSttSupported(!!SpeechRecognition);\n\n    if (SpeechRecognition) {\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n\n      recognitionRef.current.onstart = () => setIsListening(true);\n      recognitionRef.current.onend = () => setIsListening(false);\n\n      recognitionRef.current.onresult = (event: any) => {\n        let finalTranscript = '';\n        for (let i = 0; i < event.results.length; i++) {\n          if (event.results[i].isFinal) {\n            finalTranscript += event.results[i][0].transcript;\n          }\n        }\n        if (finalTranscript) {\n          setInputValue(prev => prev + finalTranscript);\n        }\n      };\n\n      recognitionRef.current.onerror = (event: any) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n      };\n    }\n\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n    };\n  }, []);\n\n  // Initialize TTS\n  useEffect(() => {\n    setIsTtsSupported('speechSynthesis' in window);\n  }, []);\n\n  // TTS function to speak text\n  const speakText = (text: string) => {\n    if (!isTtsSupported || !isTtsEnabled) return;\n    \n    // Cancel any ongoing speech\n    window.speechSynthesis.cancel();\n    \n    // Clean text for speech (remove markdown symbols)\n    const cleanText = text\n      .replace(/\\*\\*/g, '')\n      .replace(/\\n\\n/g, '. ')\n      .replace(/\\n/g, '. ')\n      .replace(/â€¢/g, '')\n      .replace(/\\d+\\./g, '');\n    \n    const utterance = new SpeechSynthesisUtterance(cleanText);\n    utterance.rate = 1;\n    utterance.pitch = 1;\n    utterance.volume = 1;\n    utterance.lang = 'en-US';\n    \n    utterance.onstart = () => setIsSpeaking(true);\n    utterance.onend = () => setIsSpeaking(false);\n    utterance.onerror = () => setIsSpeaking(false);\n    \n    speechSynthRef.current = utterance;\n    window.speechSynthesis.speak(utterance);\n  };\n\n  // Stop speaking\n  const stopSpeaking = () => {\n    window.speechSynthesis.cancel();\n    setIsSpeaking(false);\n  };\n\n  // Toggle listening (STT)\n  const toggleListening = () => {\n    if (!isSttSupported) return;\n    \n    if (isListening) {\n      recognitionRef.current?.stop();\n    } else {\n      recognitionRef.current?.start();\n    }\n  };\n\n  // Toggle TTS enabled/disabled\n  const toggleTts = () => {\n    if (isSpeaking) {\n      stopSpeaking();\n    }\n    setIsTtsEnabled(!isTtsEnabled);\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const generateBotResponse = (userMessage: string): string => {\n    const lowerMessage = userMessage.toLowerCase();\n\n    // Predefined responses based on keywords\n    const responses: { [key: string]: string } = {\n      'evaluation|assessment|criteria': `Based on ${applicationName}'s evaluation, here are the key assessment areas:\\n\\n1. **Corporate Assessment**: Business registration, incorporation documents, shareholder details\\n2. **Licensing Assessment**: Regulatory compliance, permission letters from authorities\\n3. **Financial Assessment**: Revenue verification, financial statements, banking relationships\\n4. **Technical Assessment**: Technology infrastructure, security measures, API documentation\\n5. **Compliance Assessment**: AML/KYC procedures, sanctions screening, customer verification\\n6. **Data Protection**: Data handling policies, encryption standards, GDPR compliance\\n7. **Risk Assessment**: Operational risks, market exposure, vendor dependencies\\n8. **Pakistan Readiness**: Local regulatory compliance, Urdu documentation, local partnerships\\n\\nWould you like details on any specific area?`,\n\n      'document|file|upload': `You can manage documents in the Document Management section:\\n\\nâ€¢ **Upload**: Click \"Upload Document\" to add files (PDF, DOCX, XLSX, images)\\nâ€¢ **Version Control**: Each upload creates a new version\\nâ€¢ **Feedback**: Reviewers can add feedback with severity levels\\nâ€¢ **Track Changes**: See who made what changes and when\\nâ€¢ **History**: Access previous versions of documents\\n\\nWhat documents do you need to work with?`,\n\n      'noc|notice of compliance|signature': `The NOC (Notice of Compliance) can be created when the application is ready:\\n\\n1. Navigate to the NOC Creation panel\\n2. System auto-generates a license number (PVARA-NOC-YYYY-NNNNN format)\\n3. Set validity dates (typically 1-5 years)\\n4. Add compliance conditions\\n5. Add signatories:\\n   - Authorizer (usually senior official)\\n   - Reviewer (compliance officer)\\n   - Additional signatories as needed\\n6. Download as formatted document\\n7. Signatures can be added manually or digitally\\n\\nNeed help with any specific part?`,\n\n      'feedback|comment|review': `The Feedback system works as follows:\\n\\n1. **Adding Feedback**: Go to Document Management â†’ Select document â†’ Add Feedback\\n2. **Priority Levels**: Low, Medium, High, Critical\\n3. **Categories**: Can be any heading (e.g., \"KYC Procedures\", \"API Documentation\")\\n4. **Feedback Status**: Pending â†’ Accept/Reject\\n5. **Change Trail**: Track who suggested what and when\\n\\nFeedback helps ensure documents meet all requirements before NOC issuance.`,\n\n      'phase|stage|workflow|process': `The NOC + Licensing Tool follows a 5-phase workflow:\\n\\n**Phase 1: Application Intake**\\n- Application submission and initial validation\\n\\n**Phase 2: Comprehensive Evaluation**\\n- 8-dimensional due diligence assessment\\n- Document review and feedback\\n\\n**Phase 3: NOC Creation** (Currently Active)\\n- Document finalization\\n- NOC generation and signatures\\n- License number assignment\\n\\n**Phase 4: Licensing** (Currently Locked)\\n- Annual/periodic license renewal\\n- Compliance updates\\n\\n**Phase 5: Archive**\\n- Completed applications storage\\n\\nThe system moves applications through phases as criteria are met.`,\n\n      'recommend|compliance|improve': `To improve ${applicationName}'s compliance status:\\n\\n1. **Complete All Documents**: Ensure all required documents are uploaded\\n2. **Address Feedback**: Review and accept/address all feedback items\\n3. **Documentation**: Provide clear, professional documentation\\n4. **Signatures**: Ensure all signatories are authorized and approved\\n5. **Audit Trail**: Maintain clear records of changes and approvals\\n\\nWould you like specific recommendations for any area?`,\n\n      'help|how': `I can assist you with:\\n\\nðŸ“‹ **Workflow Questions**: Phase explanations, application status\\nðŸ“„ **Documents**: Upload, version control, feedback management\\nðŸ“ **NOC**: Creation process, signatures, license numbers\\nðŸ“Š **Evaluation**: Assessment criteria, scoring\\nðŸ” **Compliance**: Best practices, recommendations\\n\\nJust ask your question naturally!`,\n\n      'default': `Thank you for your question about ${applicationName}. Based on the context:\\n\\nI can help with:\\nâ€¢ The evaluation process and criteria\\nâ€¢ Document management and versioning\\nâ€¢ NOC creation and signatures\\nâ€¢ Compliance recommendations\\nâ€¢ Workflow and phase management\\n\\nCould you be more specific? For example: \"How do I add signatures to the NOC?\" or \"What are the evaluation criteria?\"`,\n    };\n\n    // Find matching response\n    for (const [keywords, response] of Object.entries(responses)) {\n      const keywordArray = keywords.split('|');\n      if (keywordArray.some(kw => lowerMessage.includes(kw))) {\n        return response;\n      }\n    }\n\n    return responses['default'];\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputValue.trim()) return;\n\n    // Stop any ongoing speech when sending new message\n    if (isSpeaking) {\n      stopSpeaking();\n    }\n\n    // Add user message\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue,\n      timestamp: new Date(),\n    };\n\n    const userInput = inputValue;\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n\n    // Simulate bot response delay\n    setTimeout(() => {\n      const responseContent = generateBotResponse(userInput);\n      const botResponse: Message = {\n        id: (Date.now() + 1).toString(),\n        type: 'bot',\n        content: responseContent,\n        timestamp: new Date(),\n        sources: ['Evaluation Data', 'System Knowledge Base'],\n      };\n\n      setMessages(prev => [...prev, botResponse]);\n      setIsLoading(false);\n      \n      // Speak the response if TTS is enabled\n      if (isTtsEnabled) {\n        speakText(responseContent);\n      }\n    }, 800);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const downloadConversation = () => {\n    const transcript = messages\n      .map(m => `[${m.type.toUpperCase()}] ${m.timestamp.toLocaleTimeString()}\\n${m.content}\\n`)\n      .join('\\n---\\n\\n');\n\n    const element = document.createElement('a');\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(transcript));\n    element.setAttribute('download', `conversation-${applicationId}.txt`);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  };\n\n  const copyLastMessage = () => {\n    const lastBotMessage = [...messages].reverse().find(m => m.type === 'bot');\n    if (lastBotMessage) {\n      navigator.clipboard.writeText(lastBotMessage.content);\n      alert('Message copied to clipboard');\n    }\n  };\n\n  return (\n    <div className=\"ai-bot-panel\">\n      {/* Header */}\n      <div className=\"bot-header card-glass\">\n        <div className=\"bot-title\">\n          <FiMessageCircle size={20} />\n          <div>\n            <h2 className=\"text-sm font-bold\">NOC Assistant</h2>\n            <p className=\"text-xs text-secondary\">{applicationName}</p>\n          </div>\n        </div>\n        <div className=\"bot-actions\">\n          {/* TTS Toggle */}\n          {isTtsSupported && (\n            <button\n              onClick={toggleTts}\n              className={`bot-action-btn ${isTtsEnabled ? 'active' : ''}`}\n              title={isTtsEnabled ? 'Disable voice responses' : 'Enable voice responses'}\n            >\n              {isTtsEnabled ? <FiVolume2 size={16} /> : <FiVolumeX size={16} />}\n            </button>\n          )}\n          <button\n            onClick={downloadConversation}\n            className=\"bot-action-btn\"\n            title=\"Download conversation\"\n          >\n            <FiDownload size={16} />\n          </button>\n          <button\n            onClick={copyLastMessage}\n            className=\"bot-action-btn\"\n            title=\"Copy last message\"\n          >\n            <FiCopy size={16} />\n          </button>\n        </div>\n      </div>\n      \n      {/* Voice Status Bar */}\n      {(isListening || isSpeaking) && (\n        <div className=\"voice-status-bar\">\n          {isListening && (\n            <div className=\"voice-status listening\">\n              <FiMic size={14} className=\"pulse\" />\n              <span>Listening... Speak now</span>\n            </div>\n          )}\n          {isSpeaking && (\n            <div className=\"voice-status speaking\">\n              <FiVolume2 size={14} className=\"pulse\" />\n              <span>Speaking...</span>\n              <button onClick={stopSpeaking} className=\"stop-speaking-btn\">Stop</button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Messages Container */}\n      <div className=\"bot-messages\">\n        {messages.map((message) => (\n          <div key={message.id} className={`message message-${message.type}`}>\n            <div className=\"message-avatar\">\n              {message.type === 'bot' ? (\n                <FiMessageCircle />\n              ) : (\n                <div className=\"user-avatar\">U</div>\n              )}\n            </div>\n            <div className=\"message-content\">\n              <div className=\"message-bubble\">\n                <p>{message.content}</p>\n              </div>\n              {message.sources && (\n                <div className=\"message-sources\">\n                  {message.sources.map((source, idx) => (\n                    <span key={idx} className=\"source-badge\">{source}</span>\n                  ))}\n                </div>\n              )}\n              <span className=\"message-time\">{message.timestamp.toLocaleTimeString()}</span>\n            </div>\n          </div>\n        ))}\n\n        {isLoading && (\n          <div className=\"message message-bot\">\n            <div className=\"message-avatar\">\n              <FiMessageCircle />\n            </div>\n            <div className=\"message-content\">\n              <div className=\"message-bubble loading\">\n                <span className=\"loading-dot\"></span>\n                <span className=\"loading-dot\"></span>\n                <span className=\"loading-dot\"></span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"bot-input-area card-glass\">\n        <div className=\"input-wrapper\">\n          {/* Microphone Button (STT) */}\n          {isSttSupported && (\n            <button\n              onClick={toggleListening}\n              className={`mic-btn ${isListening ? 'listening' : ''}`}\n              title={isListening ? 'Stop listening' : 'Start voice input'}\n              type=\"button\"\n            >\n              {isListening ? <FiMicOff size={18} /> : <FiMic size={18} />}\n            </button>\n          )}\n          <textarea\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder={isListening ? \"Listening... speak now\" : \"Ask about the application, documents, NOC creation, or compliance...\"}\n            className=\"bot-input\"\n            rows={2}\n          />\n          <button\n            onClick={handleSendMessage}\n            disabled={!inputValue.trim() || isLoading}\n            className=\"send-btn\"\n            title=\"Send message\"\n          >\n            <FiSend size={18} />\n          </button>\n        </div>\n        <div className=\"input-hints\">\n          <p className=\"text-xs text-tertiary\">\n            {isSttSupported ? 'ðŸŽ¤ Click mic to speak â€¢ ' : ''}ðŸ’¡ Try: \"What are the evaluation criteria?\" or \"How do I add signatures?\"\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}