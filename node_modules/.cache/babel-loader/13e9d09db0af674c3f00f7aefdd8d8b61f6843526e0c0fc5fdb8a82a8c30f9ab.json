{"ast":null,"code":"import axios from'axios';// Use relative URL for Vercel deployment, or full URL for local development\nconst API_BASE_URL=process.env.REACT_APP_API_URL||(process.env.NODE_ENV==='production'?'/api':'http://localhost:3001/api');const apiClient=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json','x-api-key':process.env.REACT_APP_API_KEY||'dev-key-12345'}});export const evaluationApi={evaluateApplication:data=>apiClient.post('/evaluation/evaluate',data),voiceCommand:(transcript,applicationId)=>apiClient.post('/evaluation/voice-command',{transcript,applicationId}),getApplication:id=>apiClient.get(\"/evaluation/applications/\".concat(id)),listApplications:()=>apiClient.get('/evaluation/applications'),uploadFiles:(files,meta)=>{const formData=new FormData();files.forEach(file=>formData.append('files',file));if(meta!==null&&meta!==void 0&&meta.applicationId)formData.append('applicationId',meta.applicationId);if(meta!==null&&meta!==void 0&&meta.name)formData.append('name',meta.name);if(meta!==null&&meta!==void 0&&meta.vendor)formData.append('vendor',meta.vendor);if(meta!==null&&meta!==void 0&&meta.version)formData.append('version',meta.version);if(meta!==null&&meta!==void 0&&meta.description)formData.append('description',meta.description);return apiClient.post('/evaluation/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});}};export default apiClient;// Storage APIs for folders and uploads\nexport const storageApi={createFolder:name=>apiClient.post('/storage/folders',{name}),listFolders:()=>apiClient.get('/storage/folders'),listFiles:folder=>apiClient.get('/storage/files',{params:{folder}}),uploadToFolder:(folder,files)=>{const formData=new FormData();formData.append('folder',folder);files.forEach(file=>formData.append('files',file));return apiClient.post('/storage/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});},listRecommendations:(folder,document)=>apiClient.get('/storage/recommendations',{params:{folder,document}}),decideRecommendations:(folder,document,version,acceptIds,rejectIds)=>apiClient.post('/storage/recommendations/decision',{folder,document,version,acceptIds,rejectIds})};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","NODE_ENV","apiClient","create","baseURL","headers","REACT_APP_API_KEY","evaluationApi","evaluateApplication","data","post","voiceCommand","transcript","applicationId","getApplication","id","get","concat","listApplications","uploadFiles","files","meta","formData","FormData","forEach","file","append","name","vendor","version","description","storageApi","createFolder","listFolders","listFiles","folder","params","uploadToFolder","listRecommendations","document","decideRecommendations","acceptIds","rejectIds"],"sources":["/Users/ubl/Desktop/PVARA-Frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance } from 'axios';\n\n// Use relative URL for Vercel deployment, or full URL for local development\nconst API_BASE_URL = process.env.REACT_APP_API_URL || (\n  process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3001/api'\n);\n\nconst apiClient: AxiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'x-api-key': process.env.REACT_APP_API_KEY || 'dev-key-12345',\n  },\n});\n\nexport const evaluationApi = {\n  evaluateApplication: (data: any) =>\n    apiClient.post('/evaluation/evaluate', data),\n\n  voiceCommand: (transcript: string, applicationId: string) =>\n    apiClient.post('/evaluation/voice-command', { transcript, applicationId }),\n\n  getApplication: (id: string) =>\n    apiClient.get(`/evaluation/applications/${id}`),\n\n  listApplications: () =>\n    apiClient.get('/evaluation/applications'),\n\n  uploadFiles: (files: File[], meta?: { applicationId?: string; name?: string; vendor?: string; version?: string; description?: string }) => {\n    const formData = new FormData();\n    files.forEach(file => formData.append('files', file));\n    if (meta?.applicationId) formData.append('applicationId', meta.applicationId);\n    if (meta?.name) formData.append('name', meta.name);\n    if (meta?.vendor) formData.append('vendor', meta.vendor);\n    if (meta?.version) formData.append('version', meta.version);\n    if (meta?.description) formData.append('description', meta.description);\n    return apiClient.post('/evaluation/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  },\n};\n\nexport default apiClient;\n\n// Storage APIs for folders and uploads\nexport const storageApi = {\n  createFolder: (name: string) =>\n    apiClient.post('/storage/folders', { name }),\n\n  listFolders: () =>\n    apiClient.get('/storage/folders'),\n\n  listFiles: (folder: string) =>\n    apiClient.get('/storage/files', { params: { folder } }),\n\n  uploadToFolder: (folder: string, files: File[]) => {\n    const formData = new FormData();\n    formData.append('folder', folder);\n    files.forEach(file => formData.append('files', file));\n    return apiClient.post('/storage/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  },\n\n  listRecommendations: (folder: string, document?: string) =>\n    apiClient.get('/storage/recommendations', { params: { folder, document } }),\n\n  decideRecommendations: (\n    folder: string,\n    document: string,\n    version: number,\n    acceptIds: string[],\n    rejectIds: string[]\n  ) => apiClient.post('/storage/recommendations/decision', {\n    folder,\n    document,\n    version,\n    acceptIds,\n    rejectIds,\n  }),\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}