{"ast":null,"code":"import _objectSpread from\"/Users/ubl/Desktop/PVARA-Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{FiDownload,FiX,FiAlertCircle,FiChevronDown,FiCalendar}from'react-icons/fi';import{jsPDF}from'jspdf';import ReactQuill from'react-quill';import'react-quill/dist/quill.snow.css';import{applicationsApi}from'../services/applications.api';import'../styles/noc-creation.css';import'../styles/quill-editor.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const NOCCreationPanel=_ref=>{var _selectedApp$applicat,_selectedApp$document;let{applications,selectedApplication:initialApplication,onSelectApplication,evaluation:initialEvaluation,onBack,onEvaluate}=_ref;const[selectedApp,setSelectedApp]=useState(initialApplication);const[evaluation,setEvaluation]=useState(initialEvaluation);const[loadingEvaluation,setLoadingEvaluation]=useState(false);const[licenseNumber,setLicenseNumber]=useState(\"PVARA-NOC-\".concat(new Date().getFullYear(),\"-\").concat(Math.floor(Math.random()*10000)));const[validFrom,setValidFrom]=useState(new Date().toISOString().split('T')[0]);const[validUntil,setValidUntil]=useState(()=>{const d=new Date();d.setFullYear(d.getFullYear()+1);return d.toISOString().split('T')[0];});// Auto-populate conditions from evaluation\nconst[conditions,setConditions]=useState(evaluation!==null&&evaluation!==void 0&&evaluation.conditions&&evaluation.conditions.length>0?evaluation.conditions:[]);const[signatories,setSignatories]=useState([{signatoryId:'sig_1',name:'',title:'',status:'pending'}]);const[sealImage,setSealImage]=useState('');const[nocSubject,setNocSubject]=useState('');const[nocAdditionalText,setNocAdditionalText]=useState('');const[applicantAddress,setApplicantAddress]=useState('');const[fontFamily,setFontFamily]=useState('times');const pvaraLogoUrl='/pvara-logo.png';const convertFileToBase64=file=>{return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onloadend=()=>resolve(reader.result);reader.onerror=reject;reader.readAsDataURL(file);});};// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst validatePlainBackground=file=>{return new Promise(resolve=>{const img=new Image();img.onload=()=>{try{const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');if(!ctx)return resolve(true);// Allow if canvas context fails\nconst w=200,h=100;canvas.width=w;canvas.height=h;ctx.drawImage(img,0,0,w,h);const data=ctx.getImageData(0,0,w,h).data;let meanR=0,meanG=0,meanB=0;const pixels=w*h;for(let i=0;i<data.length;i+=4){meanR+=data[i];meanG+=data[i+1];meanB+=data[i+2];}meanR/=pixels;meanG/=pixels;meanB/=pixels;let variance=0;for(let i=0;i<data.length;i+=4){const dr=data[i]-meanR;const dg=data[i+1]-meanG;const db=data[i+2]-meanB;variance+=dr*dr+dg*dg+db*db;}variance/=pixels;// More lenient threshold - allow variance up to 3000\nconst isValid=variance<3000;console.log(\"Background validation: variance=\".concat(variance.toFixed(0),\", valid=\").concat(isValid));resolve(isValid);}catch(err){console.error('Error validating background:',err);resolve(true);// Allow if validation fails\n}};img.onerror=()=>{console.warn('Failed to load image for validation');resolve(true);// Allow if image fails to load\n};const objectUrl=URL.createObjectURL(file);img.src=objectUrl;// Clean up object URL after a short delay to ensure image loads\nsetTimeout(()=>URL.revokeObjectURL(objectUrl),1000);});};// Handle application selection change\nconst handleSelectApplication=app=>{setSelectedApp(app);onSelectApplication(app);setEvaluation(undefined);setConditions([]);// Generate new license number for new application\nsetLicenseNumber(\"PVARA-NOC-\".concat(new Date().getFullYear(),\"-\").concat(Math.floor(Math.random()*10000)));};// Load evaluation if not provided\nuseEffect(()=>{const loadEval=async()=>{if(selectedApp&&!evaluation&&!loadingEvaluation){try{setLoadingEvaluation(true);const result=await applicationsApi.evaluateApplication(selectedApp.id);setEvaluation(result.evaluation);// Update conditions with evaluation data\nif(result.evaluation.conditions&&result.evaluation.conditions.length>0){setConditions(result.evaluation.conditions);}}catch(err){console.error('Error loading evaluation:',err);}finally{setLoadingEvaluation(false);}}};loadEval();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[selectedApp]);const loadEvaluation=async()=>{if(!selectedApp)return;if(onEvaluate){onEvaluate(selectedApp.id);}try{setLoadingEvaluation(true);const result=await applicationsApi.evaluateApplication(selectedApp.id);setEvaluation(result.evaluation);// Update conditions with evaluation data\nif(result.evaluation.conditions&&result.evaluation.conditions.length>0){setConditions(result.evaluation.conditions);}}catch(err){console.error('Error loading evaluation:',err);}finally{setLoadingEvaluation(false);}};const handleRemoveCondition=index=>{setConditions(conditions.filter((_,i)=>i!==index));};const handleUpdateSignatory=(index,field,value)=>{const updated=[...signatories];updated[index]=_objectSpread(_objectSpread({},updated[index]),{},{[field]:value});setSignatories(updated);};const handleRemoveSignatory=index=>{setSignatories(signatories.filter((_,i)=>i!==index));};const handleGenerateNOC=async()=>{if(!selectedApp){alert('Please select an application first');return;}console.log('ðŸŽ¯ Starting NOC generation...');console.log('ðŸ“‹ Signatories:',signatories.map((s,i)=>({index:i,name:s.name,title:s.title,hasSignature:!!s.signatureImage,signatureSize:s.signatureImage?\"\".concat(Math.round(s.signatureImage.length/1024),\"KB\"):'none'})));console.log('ðŸ” Seal image:',sealImage?\"\".concat(Math.round(sealImage.length/1024),\"KB\"):'none');// Generate NOC document as PDF - Professional letterhead format\nconst doc=new jsPDF({unit:'pt',format:'a4'});const pageWidth=doc.internal.pageSize.getWidth();const pageHeight=doc.internal.pageSize.getHeight();const leftMargin=50;const rightMargin=50;const topMargin=40;const lineHeight=12;let y=topMargin;// Load and cache logo for reuse on multiple pages\nlet logoImg=null;let logoWidth=0;let logoHeight=0;try{const img=new Image();img.src=pvaraLogoUrl;await new Promise(res=>{img.onload=res;img.onerror=res;});const naturalWidth=img.naturalWidth||img.width;const naturalHeight=img.naturalHeight||img.height;const maxLogoWidth=140;logoWidth=maxLogoWidth;logoHeight=naturalHeight/naturalWidth*logoWidth;if(logoHeight>65){logoHeight=65;logoWidth=naturalWidth/naturalHeight*logoHeight;}logoImg=img;}catch(_unused){}// Helper function to add logo on RIGHT corner\nconst addLogo=yPos=>{if(logoImg){try{// Position logo on RIGHT corner\nconst logoX=pageWidth-rightMargin-logoWidth;doc.addImage(logoImg,'PNG',logoX,yPos,logoWidth,logoHeight);}catch(_unused2){}}};// Helper function to add new page if needed with logo\nconst checkNewPage=function(){let requiredSpace=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;if(y+requiredSpace>pageHeight-70){doc.addPage();y=topMargin;addLogo(topMargin);// Add logo to new page\ny+=logoHeight+20;return true;}return false;};// Add logo to first page on RIGHT corner\naddLogo(topMargin);y+=logoHeight+20;// Reference Number (LEFT) and Date (RIGHT) on same line\ndoc.setFont(fontFamily,'normal');doc.setFontSize(11);const refText=\"Ref: \".concat(licenseNumber);const dateText=\"Date: \".concat(new Date(validFrom).toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}).replace(/ /g,'-'));doc.text(refText,leftMargin,y);doc.text(dateText,pageWidth-rightMargin,y,{align:'right'});y+=lineHeight+20;// Applicant Address (NO heading like \"To,\")\ndoc.setFont(fontFamily,'normal');doc.setFontSize(11);const companyName=selectedApp.applicationData.companyName||'N/A';doc.text(companyName,leftMargin,y);y+=lineHeight+2;const address=applicantAddress||selectedApp.applicationData.address||selectedApp.applicationData.registeredAddress||selectedApp.applicationData.businessAddress||'Address not provided';const addressLines=doc.splitTextToSize(address,pageWidth-leftMargin-rightMargin-20);addressLines.forEach(line=>{doc.text(line,leftMargin,y);y+=lineHeight;});y+=20;// Subject with better spacing\ndoc.setFont(fontFamily,'bold');doc.setFontSize(11);const subjectLabel='Subject:';const subjectLabelWidth=doc.getTextWidth(subjectLabel);doc.text(subjectLabel,leftMargin,y);doc.setFont(fontFamily,'normal');const subjectText=nocSubject||'No Objection Certificate';const subjectLines=doc.splitTextToSize(subjectText,pageWidth-leftMargin-rightMargin-subjectLabelWidth-10);doc.text(subjectLines,leftMargin+subjectLabelWidth+8,y);y+=Math.max(lineHeight,subjectLines.length*lineHeight)+20;// Salutation\ndoc.setFont(fontFamily,'normal');doc.text('Dear Sir/Madam,',leftMargin,y);y+=lineHeight+15;// Main Body Text with HTML formatting support\nif(nocAdditionalText&&nocAdditionalText.trim()){checkNewPage(80);// Parse HTML content\nconst parser=new DOMParser();const htmlDoc=parser.parseFromString(nocAdditionalText,'text/html');// Process HTML elements recursively\nconst processNode=function(node){let currentIndent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(node.nodeType===Node.TEXT_NODE){var _node$textContent;const text=(_node$textContent=node.textContent)===null||_node$textContent===void 0?void 0:_node$textContent.trim();if(text){const lines=doc.splitTextToSize(text,pageWidth-leftMargin-rightMargin-currentIndent);lines.forEach(line=>{checkNewPage(lineHeight+8);doc.text(line,leftMargin+currentIndent,y);y+=lineHeight+1;});}}else if(node.nodeType===Node.ELEMENT_NODE){const element=node;const tagName=element.tagName.toLowerCase();// Handle different HTML tags\nif(tagName==='p'){doc.setFont(fontFamily,'normal');doc.setFontSize(11);Array.from(element.childNodes).forEach(child=>processNode(child,currentIndent));y+=8;// Paragraph spacing\n}else if(tagName==='strong'||tagName==='b'){doc.setFont(fontFamily,'bold');Array.from(element.childNodes).forEach(child=>processNode(child,currentIndent));doc.setFont(fontFamily,'normal');}else if(tagName==='em'||tagName==='i'){doc.setFont(fontFamily,'italic');Array.from(element.childNodes).forEach(child=>processNode(child,currentIndent));doc.setFont(fontFamily,'normal');}else if(tagName==='u'){// Underline not directly supported, just render text\nArray.from(element.childNodes).forEach(child=>processNode(child,currentIndent));}else if(tagName==='ul'){// Unordered list\nArray.from(element.children).forEach(li=>{checkNewPage(lineHeight+8);doc.text('â€¢',leftMargin+currentIndent,y);Array.from(li.childNodes).forEach(child=>processNode(child,currentIndent+15));});y+=5;}else if(tagName==='ol'){// Ordered list\nArray.from(element.children).forEach((li,index)=>{checkNewPage(lineHeight+8);doc.text(\"\".concat(index+1,\".\"),leftMargin+currentIndent,y);Array.from(li.childNodes).forEach(child=>processNode(child,currentIndent+20));});y+=5;}else if(tagName==='li'){// List item (handled by ul/ol)\nArray.from(element.childNodes).forEach(child=>processNode(child,currentIndent));}else if(tagName==='h1'||tagName==='h2'||tagName==='h3'){doc.setFont(fontFamily,'bold');const size=tagName==='h1'?14:tagName==='h2'?13:12;doc.setFontSize(size);Array.from(element.childNodes).forEach(child=>processNode(child,currentIndent));doc.setFont(fontFamily,'normal');doc.setFontSize(11);y+=10;}else if(tagName==='br'){y+=lineHeight;}else{// Default: process children\nArray.from(element.childNodes).forEach(child=>processNode(child,currentIndent));}}};// Process the body content\nArray.from(htmlDoc.body.childNodes).forEach(node=>processNode(node,0));y+=10;}else{// Default body text if none provided\ndoc.setFont(fontFamily,'normal');doc.setFontSize(11);const defaultBody=\"This is to certify that the Pakistan Virtual Assets Regulatory Authority (PVARA) has no objection to the operations and activities of \".concat(companyName,\" as per the submitted application and documentation.\\n\\nThis certificate is issued in accordance with the applicable regulations and laws governing virtual asset service providers in Pakistan.\");const bodyLines=doc.splitTextToSize(defaultBody,pageWidth-leftMargin-rightMargin);bodyLines.forEach(line=>{checkNewPage(lineHeight+8);doc.text(line,leftMargin,y);y+=lineHeight+1;});y+=15;}// Validity period\ncheckNewPage(60);doc.setFont(fontFamily,'normal');doc.setFontSize(11);const validityText=\"This certificate is valid from \".concat(new Date(validFrom).toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}).replace(/ /g,'-'),\" to \").concat(new Date(validUntil).toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}).replace(/ /g,'-'),\".\");const validityLines=doc.splitTextToSize(validityText,pageWidth-leftMargin-rightMargin);validityLines.forEach(line=>{doc.text(line,leftMargin,y);y+=lineHeight+1;});y+=20;// Closing\ndoc.text('Yours faithfully,',leftMargin,y);y+=35;// Reduced from 50\n// Signatory Section with less space\ncheckNewPage(110);for(const s of signatories){checkNewPage(85);// Add signature image if available\nif(s.signatureImage&&s.signatureImage.startsWith('data:')){try{doc.addImage(s.signatureImage,'JPEG',leftMargin,y-30,65,30);}catch(err){console.error('âŒ Error adding signature image:',err);}}// Signature line\ndoc.setFont(fontFamily,'normal');doc.setFontSize(10);doc.line(leftMargin,y,leftMargin+110,y);y+=lineHeight;// Name and Title\ndoc.setFont(fontFamily,'bold');doc.setFontSize(11);doc.text(s.name||'Authorized Signatory',leftMargin,y);y+=lineHeight;doc.setFont(fontFamily,'italic');doc.setFontSize(10);doc.text(s.title||'Designation',leftMargin,y);y+=lineHeight+3;const signatureDate=s.signatureDate?new Date(s.signatureDate).toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}).replace(/ /g,'-'):new Date().toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}).replace(/ /g,'-');doc.setFont(fontFamily,'normal');doc.text(\"Date: \".concat(signatureDate),leftMargin,y);y+=25;// Reduced from 35\n}// Official Seal positioned on right side\nif(sealImage&&sealImage.startsWith('data:')){try{const sealSize=90;const sealX=pageWidth-rightMargin-sealSize-10;const sealY=y-140;// Adjusted for less signature space\ndoc.addImage(sealImage,'JPEG',sealX,sealY,sealSize,sealSize);console.log('âœ… Seal added successfully');}catch(err){console.error('âŒ Error adding seal image:',err);}}// Footer with horizontal line\ny=pageHeight-55;doc.setDrawColor(0);doc.setLineWidth(1);doc.line(leftMargin,y,pageWidth-rightMargin,y);y+=12;doc.setFont(fontFamily,'normal');doc.setFontSize(8);doc.text('Pakistan Virtual Assets Regulatory Authority (PVARA)',pageWidth/2,y,{align:'center'});y+=10;doc.text('Evacuee Trust Complex, Agha Khan Road, F-5/1, Islamabad, Pakistan',pageWidth/2,y,{align:'center'});y+=10;doc.text('Tel: +92-51-1234567 | Email: info@pvara.gov.pk | Web: www.pvara.gov.pk',pageWidth/2,y,{align:'center'});doc.save(\"\".concat(licenseNumber,\"-NOC.pdf\"));};return/*#__PURE__*/_jsxs(\"div\",{className:\"noc-creation-panel\",style:{maxWidth:'1200px',margin:'0 auto',padding:'var(--space-xl)'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"noc-header card-glass\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold\",style:{color:'rgba(255, 255, 255, 0.95)',fontSize:'1.35rem'},children:\"Create Notice of Compliance (NOC)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",style:{color:'rgba(147, 197, 253, 0.85)',marginTop:'0.25rem',fontWeight:'500'},children:\"PVARA (Pakistan Virtual Assets Regulatory Authority)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-secondary\",style:{marginTop:'0.15rem'},children:selectedApp?selectedApp.applicationData.companyName:'Select an application to begin'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"btn btn-secondary btn-sm\",style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.65rem 1.25rem',fontSize:'0.9rem',fontWeight:'600'},children:\"\\u2190 Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"noc-section card-glass\",style:{marginBottom:'var(--space-lg)'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold mb-lg\",style:{color:'rgba(255, 255, 255, 0.95)',fontSize:'1.05rem'},children:\"Select Application\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",style:{color:'rgba(255, 255, 255, 0.85)',fontSize:'0.85rem'},children:\"Choose applicant to generate NOC for:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"select\",{value:(selectedApp===null||selectedApp===void 0?void 0:selectedApp.id)||'',onChange:e=>{const app=applications.find(a=>a.id===e.target.value);if(app)handleSelectApplication(app);},className:\"text-sm\",style:{width:'100%',padding:'0.875rem',fontSize:'0.95rem',appearance:'none',paddingRight:'2.5rem',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select an application --\"}),applications.map(app=>{var _app$applicationData;return/*#__PURE__*/_jsxs(\"option\",{value:app.id,children:[((_app$applicationData=app.applicationData)===null||_app$applicationData===void 0?void 0:_app$applicationData.companyName)||app.id,\" - \",app.status.toUpperCase(),app.documents?\" (\".concat(app.documents.length,\" docs)\"):'']},app.id);})]}),/*#__PURE__*/_jsx(FiChevronDown,{style:{position:'absolute',right:'1rem',top:'50%',transform:'translateY(-50%)',pointerEvents:'none',color:'var(--text-secondary)'}})]})]}),selectedApp&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'var(--space-md)',padding:'var(--space-md)',background:'rgba(59, 130, 246, 0.1)',borderRadius:'var(--radius-md)',border:'1px solid rgba(59, 130, 246, 0.2)',display:'flex',gap:'var(--space-md)',alignItems:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',fontWeight:'600',color:'var(--text-primary)'},children:(_selectedApp$applicat=selectedApp.applicationData)===null||_selectedApp$applicat===void 0?void 0:_selectedApp$applicat.companyName}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.7rem',color:'var(--text-secondary)',marginTop:'2px'},children:[\"ID: \",selectedApp.id,\" \\u2022 \",((_selectedApp$document=selectedApp.documents)===null||_selectedApp$document===void 0?void 0:_selectedApp$document.length)||0,\" documents \\u2022 Status: \",selectedApp.status]})]})})]}),!selectedApp?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'var(--space-2xl)',textAlign:'center',background:'rgba(255, 255, 255, 0.03)',borderRadius:'var(--radius-lg)',border:'1px dashed rgba(255, 255, 255, 0.2)'},children:[/*#__PURE__*/_jsx(FiAlertCircle,{size:48,style:{color:'var(--text-secondary)',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-primary)',fontSize:'1rem',marginBottom:'0.5rem'},children:\"No Application Selected\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-secondary)',fontSize:'0.875rem'},children:\"Please select an application from the dropdown above to create a Notice of Compliance\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[loadingEvaluation?/*#__PURE__*/_jsx(\"div\",{className:\"noc-section card-glass\",style:{marginBottom:'var(--space-lg)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'var(--space-xl)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",style:{margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-secondary)'},children:\"Loading AI evaluation data...\"})]})}):evaluation?/*#__PURE__*/_jsxs(\"div\",{className:\"noc-section card-glass\",style:{marginBottom:'var(--space-lg)'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold mb-lg\",children:\"Evaluation Summary\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(150px, 1fr))',gap:'var(--space-md)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'var(--space-md)',background:'rgba(59, 130, 246, 0.1)',borderRadius:'var(--radius-md)',border:'1px solid rgba(59, 130, 246, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.7rem',color:'var(--text-secondary)',marginBottom:'4px'},children:\"Overall Score\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'rgb(59, 130, 246)'},children:[evaluation.overallScore,\"/100\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'var(--space-md)',background:evaluation.riskLevel==='low'?'rgba(16, 185, 129, 0.1)':evaluation.riskLevel==='medium'?'rgba(251, 191, 36, 0.1)':'rgba(239, 68, 68, 0.1)',borderRadius:'var(--radius-md)',border:\"1px solid \".concat(evaluation.riskLevel==='low'?'rgba(16, 185, 129, 0.3)':evaluation.riskLevel==='medium'?'rgba(251, 191, 36, 0.3)':'rgba(239, 68, 68, 0.3)')},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.7rem',color:'var(--text-secondary)',marginBottom:'4px'},children:\"Risk Level\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',fontWeight:'700',textTransform:'uppercase',color:evaluation.riskLevel==='low'?'rgb(16, 185, 129)':evaluation.riskLevel==='medium'?'rgb(251, 191, 36)':'rgb(239, 68, 68)'},children:evaluation.riskLevel})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'var(--space-md)',background:evaluation.recommendation==='approve'?'rgba(16, 185, 129, 0.1)':evaluation.recommendation==='conditional-approval'?'rgba(59, 130, 246, 0.1)':'rgba(239, 68, 68, 0.1)',borderRadius:'var(--radius-md)',border:\"1px solid \".concat(evaluation.recommendation==='approve'?'rgba(16, 185, 129, 0.3)':evaluation.recommendation==='conditional-approval'?'rgba(59, 130, 246, 0.3)':'rgba(239, 68, 68, 0.3)')},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.7rem',color:'var(--text-secondary)',marginBottom:'4px'},children:\"Recommendation\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',fontWeight:'700',color:evaluation.recommendation==='approve'?'rgb(16, 185, 129)':evaluation.recommendation==='conditional-approval'?'rgb(59, 130, 246)':'rgb(239, 68, 68)'},children:evaluation.recommendation.replace('-',' ').toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'var(--space-md)',background:'rgba(168, 85, 247, 0.1)',borderRadius:'var(--radius-md)',border:'1px solid rgba(168, 85, 247, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.7rem',color:'var(--text-secondary)',marginBottom:'4px'},children:\"Model Used\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',fontWeight:'700',color:'rgb(168, 85, 247)'},children:evaluation.modelUsed||'gpt-5.2'})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"noc-section card-glass\",style:{marginBottom:'var(--space-lg)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'var(--space-lg)',textAlign:'center',background:'rgba(251, 191, 36, 0.1)',borderRadius:'var(--radius-md)',border:'1px solid rgba(251, 191, 36, 0.3)'},children:[/*#__PURE__*/_jsx(FiAlertCircle,{size:32,style:{color:'rgb(251, 191, 36)',marginBottom:'8px'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-primary)',marginBottom:'8px'},children:\"No evaluation data available\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'var(--text-secondary)',marginBottom:'12px'},children:\"An AI evaluation is recommended before generating NOC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadEvaluation,className:\"btn btn-primary btn-sm\",style:{margin:'0 auto'},children:\"Run AI Evaluation\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"noc-content\",style:{display:'flex',flexDirection:'column',gap:'var(--space-lg)'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"noc-section card-glass\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold mb-lg\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"License Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:licenseNumber,onChange:e=>setLicenseNumber(e.target.value),className:\"text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Valid From\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:validFrom,onChange:e=>setValidFrom(e.target.value),className:\"text-sm date-input\"}),/*#__PURE__*/_jsx(FiCalendar,{className:\"date-icon\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Valid Until\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:validUntil,onChange:e=>setValidUntil(e.target.value),className:\"text-sm date-input\"}),/*#__PURE__*/_jsx(FiCalendar,{className:\"date-icon\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"noc-section card-glass\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold\",style:{marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.95)',fontSize:'1.05rem'},children:\"Compliance Conditions\"}),(evaluation===null||evaluation===void 0?void 0:evaluation.conditions)&&evaluation.conditions.length>0&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.8rem',color:'rgba(147, 197, 253, 0.9)',marginTop:'4px',fontWeight:'500'},children:[\"\\u2728 Auto-populated from AI evaluation (\",evaluation.conditions.length,\" conditions)\"]})]}),conditions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"conditions-list\",children:conditions.map((condition,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"condition-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"condition-number\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"condition-text\",children:condition}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveCondition(index),className:\"btn-remove\",title:\"Remove condition\",children:/*#__PURE__*/_jsx(FiX,{size:16})})]},index))}):/*#__PURE__*/_jsx(\"div\",{style:{padding:'var(--space-lg)',textAlign:'center',color:'rgba(255, 255, 255, 0.7)',background:'rgba(255, 255, 255, 0.05)',borderRadius:'var(--radius-md)',border:'1px dashed rgba(255, 255, 255, 0.2)'},children:\"No conditions specified. Add conditions using the input above.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"noc-section card-glass\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold\",style:{color:'rgba(255, 255, 255, 0.95)',fontSize:'1.05rem'},children:\"Authorized Signatories\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",style:{color:'rgba(255,255,255,0.75)'},children:\"Upload a clear signature image: dark ink on plain white background, well-cropped, no shadows.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signatories-list\",children:signatories.map((sig,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"signatory-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sig.name,onChange:e=>handleUpdateSignatory(index,'name',e.target.value),className:\"text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Title/Position\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sig.title,onChange:e=>handleUpdateSignatory(index,'title',e.target.value),className:\"text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Signature Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/png,image/jpeg,image/jpg\",onChange:async e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;try{console.log('Processing signature file:',file.name,file.type,file.size);const base64=await convertFileToBase64(file);console.log('Signature uploaded:',{index,fileName:file.name,base64Length:base64.length});handleUpdateSignatory(index,'signatureImage',base64);}catch(err){console.error('Error uploading signature:',err);window.alert('Failed to upload signature image. Please try again.');}}}),sig.signatureImage&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'rgb(34, 197, 94)',marginTop:'4px',fontWeight:'500'},children:[\"\\u2713 Signature uploaded (\",Math.round(sig.signatureImage.length/1024),\"KB)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Signature Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:sig.signatureDate||'',onChange:e=>handleUpdateSignatory(index,'signatureDate',e.target.value),className:\"text-sm date-input\"}),/*#__PURE__*/_jsx(FiCalendar,{className:\"date-icon\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:sig.status,onChange:e=>handleUpdateSignatory(index,'status',e.target.value),className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"signed\",children:\"Signed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"declined\",children:\"Declined\"})]})]})]}),sig.isAdding&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveSignatory(index),className:\"btn-remove-signatory\",children:/*#__PURE__*/_jsx(FiX,{size:14})})]},sig.signatoryId))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"noc-section card-glass\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold\",style:{color:'rgba(255, 255, 255, 0.95)',fontSize:'1.05rem'},children:\"Document Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{gridColumn:'1 / -1'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Applicant Address\"}),/*#__PURE__*/_jsx(\"textarea\",{value:applicantAddress,onChange:e=>setApplicantAddress(e.target.value),className:\"text-sm\",rows:2,placeholder:\"Enter the complete address of the applicant\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nocSubject,onChange:e=>setNocSubject(e.target.value),className:\"text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"PDF Font Family\"}),/*#__PURE__*/_jsxs(\"select\",{value:fontFamily,onChange:e=>setFontFamily(e.target.value),className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"times\",children:\"Times New Roman (Professional)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"helvetica\",children:\"Helvetica (Modern)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"courier\",children:\"Courier (Typewriter)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{gridColumn:'1 / -1'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium\",children:\"Additional Text (notes)\"}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'white',borderRadius:'4px',minHeight:'200px',resize:'vertical',overflow:'auto'},children:/*#__PURE__*/_jsx(ReactQuill,{theme:\"snow\",value:nocAdditionalText,onChange:setNocAdditionalText,modules:{toolbar:[[{'header':[1,2,3,false]}],['bold','italic','underline'],[{'list':'ordered'},{'list':'bullet'}],[{'align':[]}],['clean']]},style:{height:'180px',marginBottom:'40px'}})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"noc-section card-glass\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold\",style:{color:'rgba(255, 255, 255, 0.95)',fontSize:'1.05rem'},children:\"Embossed / Raised 3D Seal\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",style:{color:'rgba(255,255,255,0.75)'},children:\"Upload a high-contrast seal image on plain background (PNG/JPEG). This will be placed on the document.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/png,image/jpeg,image/jpg\",onChange:async e=>{var _e$target$files2;const file=(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0];if(!file)return;try{console.log('Processing seal file:',file.name,file.type,file.size);const base64=await convertFileToBase64(file);console.log('Seal uploaded:',{fileName:file.name,base64Length:base64.length});setSealImage(base64);}catch(err){console.error('Error uploading seal:',err);window.alert('Failed to upload seal image. Please try again.');}}}),sealImage&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'rgb(34, 197, 94)',marginTop:'8px',fontWeight:'500'},children:[\"\\u2713 Seal image uploaded (\",Math.round(sealImage.length/1024),\"KB)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"noc-section\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleGenerateNOC,className:\"btn btn-primary w-full\",style:{padding:'0.875rem',fontSize:'1rem'},children:[/*#__PURE__*/_jsx(FiDownload,{size:18}),\" Generate & Download NOC Document\"]})})]})]})]});};","map":{"version":3,"names":["React","useState","useEffect","FiDownload","FiX","FiAlertCircle","FiChevronDown","FiCalendar","jsPDF","ReactQuill","applicationsApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NOCCreationPanel","_ref","_selectedApp$applicat","_selectedApp$document","applications","selectedApplication","initialApplication","onSelectApplication","evaluation","initialEvaluation","onBack","onEvaluate","selectedApp","setSelectedApp","setEvaluation","loadingEvaluation","setLoadingEvaluation","licenseNumber","setLicenseNumber","concat","Date","getFullYear","Math","floor","random","validFrom","setValidFrom","toISOString","split","validUntil","setValidUntil","d","setFullYear","conditions","setConditions","length","signatories","setSignatories","signatoryId","name","title","status","sealImage","setSealImage","nocSubject","setNocSubject","nocAdditionalText","setNocAdditionalText","applicantAddress","setApplicantAddress","fontFamily","setFontFamily","pvaraLogoUrl","convertFileToBase64","file","Promise","resolve","reject","reader","FileReader","onloadend","result","onerror","readAsDataURL","validatePlainBackground","img","Image","onload","canvas","document","createElement","ctx","getContext","w","h","width","height","drawImage","data","getImageData","meanR","meanG","meanB","pixels","i","variance","dr","dg","db","isValid","console","log","toFixed","err","error","warn","objectUrl","URL","createObjectURL","src","setTimeout","revokeObjectURL","handleSelectApplication","app","undefined","loadEval","evaluateApplication","id","loadEvaluation","handleRemoveCondition","index","filter","_","handleUpdateSignatory","field","value","updated","_objectSpread","handleRemoveSignatory","handleGenerateNOC","alert","map","s","hasSignature","signatureImage","signatureSize","round","doc","unit","format","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","leftMargin","rightMargin","topMargin","lineHeight","y","logoImg","logoWidth","logoHeight","res","naturalWidth","naturalHeight","maxLogoWidth","_unused","addLogo","yPos","logoX","addImage","_unused2","checkNewPage","requiredSpace","arguments","addPage","setFont","setFontSize","refText","dateText","toLocaleDateString","day","month","year","replace","text","align","companyName","applicationData","address","registeredAddress","businessAddress","addressLines","splitTextToSize","forEach","line","subjectLabel","subjectLabelWidth","getTextWidth","subjectText","subjectLines","max","trim","parser","DOMParser","htmlDoc","parseFromString","processNode","node","currentIndent","nodeType","Node","TEXT_NODE","_node$textContent","textContent","lines","ELEMENT_NODE","element","tagName","toLowerCase","Array","from","childNodes","child","children","li","size","body","defaultBody","bodyLines","validityText","validityLines","startsWith","signatureDate","sealSize","sealX","sealY","setDrawColor","setLineWidth","save","className","style","maxWidth","margin","padding","color","fontSize","marginTop","fontWeight","onClick","display","alignItems","gap","marginBottom","position","onChange","e","find","a","target","appearance","paddingRight","cursor","_app$applicationData","toUpperCase","documents","right","top","transform","pointerEvents","background","borderRadius","border","flex","textAlign","gridTemplateColumns","overallScore","riskLevel","textTransform","recommendation","modelUsed","flexDirection","type","condition","sig","accept","_e$target$files","files","base64","fileName","base64Length","window","isAdding","gridColumn","rows","placeholder","backgroundColor","minHeight","resize","overflow","theme","modules","toolbar","_e$target$files2"],"sources":["/Users/ubl/Desktop/PVARA-Frontend/src/components/NOCCreationPanel.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FiDownload, FiX, FiAlertCircle, FiChevronDown, FiCalendar } from 'react-icons/fi';\nimport { jsPDF } from 'jspdf';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { ApplicationFolder, ComprehensiveEvaluation, applicationsApi } from '../services/applications.api';\nimport { NOCSignatory } from '../types';\nimport '../styles/noc-creation.css';\nimport '../styles/quill-editor.css';\n\ninterface NOCCreationPanelProps {\n  applications: ApplicationFolder[];\n  selectedApplication?: ApplicationFolder;\n  onSelectApplication: (app: ApplicationFolder) => void;\n  evaluation?: ComprehensiveEvaluation;\n  onBack: () => void;\n  onEvaluate?: (appId: string) => void;\n}\n\nexport const NOCCreationPanel: React.FC<NOCCreationPanelProps> = ({ \n  applications,\n  selectedApplication: initialApplication, \n  onSelectApplication,\n  evaluation: initialEvaluation, \n  onBack,\n  onEvaluate\n}) => {\n  const [selectedApp, setSelectedApp] = useState<ApplicationFolder | undefined>(initialApplication);\n  const [evaluation, setEvaluation] = useState<ComprehensiveEvaluation | undefined>(initialEvaluation);\n  const [loadingEvaluation, setLoadingEvaluation] = useState(false);\n  const [licenseNumber, setLicenseNumber] = useState(`PVARA-NOC-${new Date().getFullYear()}-${Math.floor(Math.random() * 10000)}`);\n  const [validFrom, setValidFrom] = useState(new Date().toISOString().split('T')[0]);\n  const [validUntil, setValidUntil] = useState(() => {\n    const d = new Date();\n    d.setFullYear(d.getFullYear() + 1);\n    return d.toISOString().split('T')[0];\n  });\n  \n  // Auto-populate conditions from evaluation\n  const [conditions, setConditions] = useState<string[]>(\n    evaluation?.conditions && evaluation.conditions.length > 0 \n      ? evaluation.conditions \n      : []\n  );\n  \n  const [signatories, setSignatories] = useState<(NOCSignatory & { isAdding?: boolean, signatureImage?: string, signatureDate?: string })[]>([\n    {\n      signatoryId: 'sig_1',\n      name: '',\n      title: '',\n      status: 'pending',\n    },\n  ]);\n  const [sealImage, setSealImage] = useState<string>('');\n  const [nocSubject, setNocSubject] = useState<string>('');\n  const [nocAdditionalText, setNocAdditionalText] = useState<string>('');\n  const [applicantAddress, setApplicantAddress] = useState<string>('');\n  const [fontFamily, setFontFamily] = useState<string>('times');\n  const pvaraLogoUrl = '/pvara-logo.png';\n\n  const convertFileToBase64 = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result as string);\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const validatePlainBackground = (file: File): Promise<boolean> => {\n    return new Promise((resolve) => {\n      const img = new Image();\n      img.onload = () => {\n        try {\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n          if (!ctx) return resolve(true); // Allow if canvas context fails\n          const w = 200, h = 100;\n          canvas.width = w; canvas.height = h;\n          ctx.drawImage(img, 0, 0, w, h);\n          const data = ctx.getImageData(0, 0, w, h).data;\n          let meanR = 0, meanG = 0, meanB = 0;\n          const pixels = w * h;\n          for (let i = 0; i < data.length; i += 4) {\n            meanR += data[i]; meanG += data[i+1]; meanB += data[i+2];\n          }\n          meanR /= pixels; meanG /= pixels; meanB /= pixels;\n          let variance = 0;\n          for (let i = 0; i < data.length; i += 4) {\n            const dr = data[i] - meanR;\n            const dg = data[i+1] - meanG;\n            const db = data[i+2] - meanB;\n            variance += dr*dr + dg*dg + db*db;\n          }\n          variance /= pixels;\n          // More lenient threshold - allow variance up to 3000\n          const isValid = variance < 3000;\n          console.log(`Background validation: variance=${variance.toFixed(0)}, valid=${isValid}`);\n          resolve(isValid);\n        } catch (err) {\n          console.error('Error validating background:', err);\n          resolve(true); // Allow if validation fails\n        }\n      };\n      img.onerror = () => {\n        console.warn('Failed to load image for validation');\n        resolve(true); // Allow if image fails to load\n      };\n      const objectUrl = URL.createObjectURL(file);\n      img.src = objectUrl;\n      \n      // Clean up object URL after a short delay to ensure image loads\n      setTimeout(() => URL.revokeObjectURL(objectUrl), 1000);\n    });\n  };\n\n  // Handle application selection change\n  const handleSelectApplication = (app: ApplicationFolder) => {\n    setSelectedApp(app);\n    onSelectApplication(app);\n    setEvaluation(undefined);\n    setConditions([]);\n    // Generate new license number for new application\n    setLicenseNumber(`PVARA-NOC-${new Date().getFullYear()}-${Math.floor(Math.random() * 10000)}`);\n  };\n\n  // Load evaluation if not provided\n  useEffect(() => {\n    const loadEval = async () => {\n      if (selectedApp && !evaluation && !loadingEvaluation) {\n        try {\n          setLoadingEvaluation(true);\n          const result = await applicationsApi.evaluateApplication(selectedApp.id);\n          setEvaluation(result.evaluation);\n          // Update conditions with evaluation data\n          if (result.evaluation.conditions && result.evaluation.conditions.length > 0) {\n            setConditions(result.evaluation.conditions);\n          }\n        } catch (err) {\n          console.error('Error loading evaluation:', err);\n        } finally {\n          setLoadingEvaluation(false);\n        }\n      }\n    };\n    loadEval();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedApp]);\n\n  const loadEvaluation = async () => {\n    if (!selectedApp) return;\n    \n    if (onEvaluate) {\n      onEvaluate(selectedApp.id);\n    }\n    \n    try {\n      setLoadingEvaluation(true);\n      const result = await applicationsApi.evaluateApplication(selectedApp.id);\n      setEvaluation(result.evaluation);\n      // Update conditions with evaluation data\n      if (result.evaluation.conditions && result.evaluation.conditions.length > 0) {\n        setConditions(result.evaluation.conditions);\n      }\n    } catch (err) {\n      console.error('Error loading evaluation:', err);\n    } finally {\n      setLoadingEvaluation(false);\n    }\n  };\n\n  const handleRemoveCondition = (index: number) => {\n    setConditions(conditions.filter((_, i) => i !== index));\n  };\n\n  const handleUpdateSignatory = (index: number, field: string, value: string) => {\n    const updated = [...signatories];\n    updated[index] = { ...updated[index], [field]: value };\n    setSignatories(updated);\n  };\n\n  const handleRemoveSignatory = (index: number) => {\n    setSignatories(signatories.filter((_, i) => i !== index));\n  };\n\n  const handleGenerateNOC = async () => {\n    if (!selectedApp) {\n      alert('Please select an application first');\n      return;\n    }\n    \n    console.log('ðŸŽ¯ Starting NOC generation...');\n    console.log('ðŸ“‹ Signatories:', signatories.map((s, i) => ({ \n      index: i, \n      name: s.name, \n      title: s.title, \n      hasSignature: !!s.signatureImage,\n      signatureSize: s.signatureImage ? `${Math.round(s.signatureImage.length / 1024)}KB` : 'none'\n    })));\n    console.log('ðŸ” Seal image:', sealImage ? `${Math.round(sealImage.length / 1024)}KB` : 'none');\n    \n    // Generate NOC document as PDF - Professional letterhead format\n    const doc = new jsPDF({ unit: 'pt', format: 'a4' });\n    const pageWidth = doc.internal.pageSize.getWidth();\n    const pageHeight = doc.internal.pageSize.getHeight();\n    const leftMargin = 50;\n    const rightMargin = 50;\n    const topMargin = 40;\n    const lineHeight = 12;\n    let y = topMargin;\n\n    // Load and cache logo for reuse on multiple pages\n    let logoImg: any = null;\n    let logoWidth = 0;\n    let logoHeight = 0;\n    \n    try {\n      const img = new Image();\n      img.src = pvaraLogoUrl;\n      await new Promise((res) => { img.onload = res; img.onerror = res; });\n      \n      const naturalWidth = img.naturalWidth || img.width;\n      const naturalHeight = img.naturalHeight || img.height;\n      const maxLogoWidth = 140;\n      \n      logoWidth = maxLogoWidth;\n      logoHeight = (naturalHeight / naturalWidth) * logoWidth;\n      \n      if (logoHeight > 65) {\n        logoHeight = 65;\n        logoWidth = (naturalWidth / naturalHeight) * logoHeight;\n      }\n      \n      logoImg = img;\n    } catch {}\n\n    // Helper function to add logo on RIGHT corner\n    const addLogo = (yPos: number) => {\n      if (logoImg) {\n        try {\n          // Position logo on RIGHT corner\n          const logoX = pageWidth - rightMargin - logoWidth;\n          doc.addImage(logoImg, 'PNG', logoX, yPos, logoWidth, logoHeight);\n        } catch {}\n      }\n    };\n\n    // Helper function to add new page if needed with logo\n    const checkNewPage = (requiredSpace: number = 100) => {\n      if (y + requiredSpace > pageHeight - 70) {\n        doc.addPage();\n        y = topMargin;\n        addLogo(topMargin); // Add logo to new page\n        y += logoHeight + 20;\n        return true;\n      }\n      return false;\n    };\n\n    // Add logo to first page on RIGHT corner\n    addLogo(topMargin);\n    y += logoHeight + 20;\n    \n    // Reference Number (LEFT) and Date (RIGHT) on same line\n    doc.setFont(fontFamily, 'normal');\n    doc.setFontSize(11);\n    \n    const refText = `Ref: ${licenseNumber}`;\n    const dateText = `Date: ${new Date(validFrom).toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }).replace(/ /g, '-')}`;\n    \n    doc.text(refText, leftMargin, y);\n    doc.text(dateText, pageWidth - rightMargin, y, { align: 'right' });\n    y += lineHeight + 20;\n\n    // Applicant Address (NO heading like \"To,\")\n    doc.setFont(fontFamily, 'normal');\n    doc.setFontSize(11);\n    \n    const companyName = selectedApp.applicationData.companyName || 'N/A';\n    doc.text(companyName, leftMargin, y);\n    y += lineHeight + 2;\n    \n    const address = applicantAddress || \n                    selectedApp.applicationData.address || \n                    selectedApp.applicationData.registeredAddress || \n                    selectedApp.applicationData.businessAddress ||\n                    'Address not provided';\n    const addressLines = doc.splitTextToSize(address, pageWidth - leftMargin - rightMargin - 20);\n    addressLines.forEach((line: string) => {\n      doc.text(line, leftMargin, y);\n      y += lineHeight;\n    });\n    y += 20;\n\n    // Subject with better spacing\n    doc.setFont(fontFamily, 'bold');\n    doc.setFontSize(11);\n    const subjectLabel = 'Subject:';\n    const subjectLabelWidth = doc.getTextWidth(subjectLabel);\n    doc.text(subjectLabel, leftMargin, y);\n    \n    doc.setFont(fontFamily, 'normal');\n    const subjectText = nocSubject || 'No Objection Certificate';\n    const subjectLines = doc.splitTextToSize(subjectText, pageWidth - leftMargin - rightMargin - subjectLabelWidth - 10);\n    doc.text(subjectLines, leftMargin + subjectLabelWidth + 8, y);\n    y += Math.max(lineHeight, subjectLines.length * lineHeight) + 20;\n\n    // Salutation\n    doc.setFont(fontFamily, 'normal');\n    doc.text('Dear Sir/Madam,', leftMargin, y);\n    y += lineHeight + 15;\n\n    // Main Body Text with HTML formatting support\n    if (nocAdditionalText && nocAdditionalText.trim()) {\n      checkNewPage(80);\n      \n      // Parse HTML content\n      const parser = new DOMParser();\n      const htmlDoc = parser.parseFromString(nocAdditionalText, 'text/html');\n      \n      // Process HTML elements recursively\n      const processNode = (node: Node, currentIndent: number = 0): void => {\n        if (node.nodeType === Node.TEXT_NODE) {\n          const text = node.textContent?.trim();\n          if (text) {\n            const lines = doc.splitTextToSize(text, pageWidth - leftMargin - rightMargin - currentIndent);\n            lines.forEach((line: string) => {\n              checkNewPage(lineHeight + 8);\n              doc.text(line, leftMargin + currentIndent, y);\n              y += lineHeight + 1;\n            });\n          }\n        } else if (node.nodeType === Node.ELEMENT_NODE) {\n          const element = node as HTMLElement;\n          const tagName = element.tagName.toLowerCase();\n          \n          // Handle different HTML tags\n          if (tagName === 'p') {\n            doc.setFont(fontFamily, 'normal');\n            doc.setFontSize(11);\n            Array.from(element.childNodes).forEach(child => processNode(child, currentIndent));\n            y += 8; // Paragraph spacing\n          } else if (tagName === 'strong' || tagName === 'b') {\n            doc.setFont(fontFamily, 'bold');\n            Array.from(element.childNodes).forEach(child => processNode(child, currentIndent));\n            doc.setFont(fontFamily, 'normal');\n          } else if (tagName === 'em' || tagName === 'i') {\n            doc.setFont(fontFamily, 'italic');\n            Array.from(element.childNodes).forEach(child => processNode(child, currentIndent));\n            doc.setFont(fontFamily, 'normal');\n          } else if (tagName === 'u') {\n            // Underline not directly supported, just render text\n            Array.from(element.childNodes).forEach(child => processNode(child, currentIndent));\n          } else if (tagName === 'ul') {\n            // Unordered list\n            Array.from(element.children).forEach((li) => {\n              checkNewPage(lineHeight + 8);\n              doc.text('â€¢', leftMargin + currentIndent, y);\n              Array.from(li.childNodes).forEach(child => processNode(child, currentIndent + 15));\n            });\n            y += 5;\n          } else if (tagName === 'ol') {\n            // Ordered list\n            Array.from(element.children).forEach((li, index) => {\n              checkNewPage(lineHeight + 8);\n              doc.text(`${index + 1}.`, leftMargin + currentIndent, y);\n              Array.from(li.childNodes).forEach(child => processNode(child, currentIndent + 20));\n            });\n            y += 5;\n          } else if (tagName === 'li') {\n            // List item (handled by ul/ol)\n            Array.from(element.childNodes).forEach(child => processNode(child, currentIndent));\n          } else if (tagName === 'h1' || tagName === 'h2' || tagName === 'h3') {\n            doc.setFont(fontFamily, 'bold');\n            const size = tagName === 'h1' ? 14 : tagName === 'h2' ? 13 : 12;\n            doc.setFontSize(size);\n            Array.from(element.childNodes).forEach(child => processNode(child, currentIndent));\n            doc.setFont(fontFamily, 'normal');\n            doc.setFontSize(11);\n            y += 10;\n          } else if (tagName === 'br') {\n            y += lineHeight;\n          } else {\n            // Default: process children\n            Array.from(element.childNodes).forEach(child => processNode(child, currentIndent));\n          }\n        }\n      };\n      \n      // Process the body content\n      Array.from(htmlDoc.body.childNodes).forEach(node => processNode(node, 0));\n      y += 10;\n    } else {\n      // Default body text if none provided\n      doc.setFont(fontFamily, 'normal');\n      doc.setFontSize(11);\n      const defaultBody = `This is to certify that the Pakistan Virtual Assets Regulatory Authority (PVARA) has no objection to the operations and activities of ${companyName} as per the submitted application and documentation.\\n\\nThis certificate is issued in accordance with the applicable regulations and laws governing virtual asset service providers in Pakistan.`;\n      const bodyLines = doc.splitTextToSize(defaultBody, pageWidth - leftMargin - rightMargin);\n      bodyLines.forEach((line: string) => {\n        checkNewPage(lineHeight + 8);\n        doc.text(line, leftMargin, y);\n        y += lineHeight + 1;\n      });\n      y += 15;\n    }\n\n    // Validity period\n    checkNewPage(60);\n    doc.setFont(fontFamily, 'normal');\n    doc.setFontSize(11);\n    const validityText = `This certificate is valid from ${new Date(validFrom).toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }).replace(/ /g, '-')} to ${new Date(validUntil).toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }).replace(/ /g, '-')}.`;\n    const validityLines = doc.splitTextToSize(validityText, pageWidth - leftMargin - rightMargin);\n    validityLines.forEach((line: string) => {\n      doc.text(line, leftMargin, y);\n      y += lineHeight + 1;\n    });\n    y += 20;\n\n    // Closing\n    doc.text('Yours faithfully,', leftMargin, y);\n    y += 35; // Reduced from 50\n\n    // Signatory Section with less space\n    checkNewPage(110);\n    \n    for (const s of signatories) {\n      checkNewPage(85);\n      \n      // Add signature image if available\n      if (s.signatureImage && s.signatureImage.startsWith('data:')) {\n        try {\n          doc.addImage(s.signatureImage, 'JPEG', leftMargin, y - 30, 65, 30);\n        } catch (err) {\n          console.error('âŒ Error adding signature image:', err);\n        }\n      }\n      \n      // Signature line\n      doc.setFont(fontFamily, 'normal');\n      doc.setFontSize(10);\n      doc.line(leftMargin, y, leftMargin + 110, y);\n      y += lineHeight;\n      \n      // Name and Title\n      doc.setFont(fontFamily, 'bold');\n      doc.setFontSize(11);\n      doc.text(s.name || 'Authorized Signatory', leftMargin, y);\n      y += lineHeight;\n      doc.setFont(fontFamily, 'italic');\n      doc.setFontSize(10);\n      doc.text(s.title || 'Designation', leftMargin, y);\n      y += lineHeight + 3;\n      \n      const signatureDate = s.signatureDate ? new Date(s.signatureDate).toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }).replace(/ /g, '-') : new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }).replace(/ /g, '-');\n      doc.setFont(fontFamily, 'normal');\n      doc.text(`Date: ${signatureDate}`, leftMargin, y);\n      y += 25; // Reduced from 35\n    }\n\n    // Official Seal positioned on right side\n    if (sealImage && sealImage.startsWith('data:')) {\n      try {\n        const sealSize = 90;\n        const sealX = pageWidth - rightMargin - sealSize - 10;\n        const sealY = y - 140; // Adjusted for less signature space\n        doc.addImage(sealImage, 'JPEG', sealX, sealY, sealSize, sealSize);\n        console.log('âœ… Seal added successfully');\n      } catch (err) {\n        console.error('âŒ Error adding seal image:', err);\n      }\n    }\n\n    // Footer with horizontal line\n    y = pageHeight - 55;\n    doc.setDrawColor(0);\n    doc.setLineWidth(1);\n    doc.line(leftMargin, y, pageWidth - rightMargin, y);\n    y += 12;\n    \n    doc.setFont(fontFamily, 'normal');\n    doc.setFontSize(8);\n    doc.text('Pakistan Virtual Assets Regulatory Authority (PVARA)', pageWidth / 2, y, { align: 'center' });\n    y += 10;\n    doc.text('Evacuee Trust Complex, Agha Khan Road, F-5/1, Islamabad, Pakistan', pageWidth / 2, y, { align: 'center' });\n    y += 10;\n    doc.text('Tel: +92-51-1234567 | Email: info@pvara.gov.pk | Web: www.pvara.gov.pk', pageWidth / 2, y, { align: 'center' });\n\n    doc.save(`${licenseNumber}-NOC.pdf`);\n  };\n\n  return (\n    <div className=\"noc-creation-panel\" style={{ maxWidth: '1200px', margin: '0 auto', padding: 'var(--space-xl)' }}>\n      <div className=\"noc-header card-glass\">\n        <div>\n          <h2 className=\"text-lg font-bold\" style={{ color: 'rgba(255, 255, 255, 0.95)', fontSize: '1.35rem' }}>\n            Create Notice of Compliance (NOC)\n          </h2>\n          <p className=\"text-xs\" style={{ color: 'rgba(147, 197, 253, 0.85)', marginTop: '0.25rem', fontWeight: '500' }}>\n            PVARA (Pakistan Virtual Assets Regulatory Authority)\n          </p>\n          <p className=\"text-xs text-secondary\" style={{ marginTop: '0.15rem' }}>\n            {selectedApp ? selectedApp.applicationData.companyName : 'Select an application to begin'}\n          </p>\n        </div>\n        <button \n          onClick={onBack} \n          className=\"btn btn-secondary btn-sm\"\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            padding: '0.65rem 1.25rem',\n            fontSize: '0.9rem',\n            fontWeight: '600'\n          }}\n        >\n          â† Back\n        </button>\n      </div>\n\n      {/* Application Selector */}\n      <div className=\"noc-section card-glass\" style={{ marginBottom: 'var(--space-lg)' }}>\n        <h3 className=\"text-sm font-semibold mb-lg\" style={{ color: 'rgba(255, 255, 255, 0.95)', fontSize: '1.05rem' }}>\n          Select Application\n        </h3>\n        <div className=\"form-group\">\n          <label className=\"text-xs font-medium\" style={{ color: 'rgba(255, 255, 255, 0.85)', fontSize: '0.85rem' }}>\n            Choose applicant to generate NOC for:\n          </label>\n          <div style={{ position: 'relative' }}>\n            <select\n              value={selectedApp?.id || ''}\n              onChange={(e) => {\n                const app = applications.find(a => a.id === e.target.value);\n                if (app) handleSelectApplication(app);\n              }}\n              className=\"text-sm\"\n              style={{\n                width: '100%',\n                padding: '0.875rem',\n                fontSize: '0.95rem',\n                appearance: 'none',\n                paddingRight: '2.5rem',\n                cursor: 'pointer'\n              }}\n            >\n              <option value=\"\">-- Select an application --</option>\n              {applications.map(app => (\n                <option key={app.id} value={app.id}>\n                  {app.applicationData?.companyName || app.id} - {app.status.toUpperCase()} \n                  {app.documents ? ` (${app.documents.length} docs)` : ''}\n                </option>\n              ))}\n            </select>\n            <FiChevronDown \n              style={{ \n                position: 'absolute', \n                right: '1rem', \n                top: '50%', \n                transform: 'translateY(-50%)',\n                pointerEvents: 'none',\n                color: 'var(--text-secondary)'\n              }} \n            />\n          </div>\n        </div>\n\n        {selectedApp && (\n          <div style={{ \n            marginTop: 'var(--space-md)',\n            padding: 'var(--space-md)',\n            background: 'rgba(59, 130, 246, 0.1)',\n            borderRadius: 'var(--radius-md)',\n            border: '1px solid rgba(59, 130, 246, 0.2)',\n            display: 'flex',\n            gap: 'var(--space-md)',\n            alignItems: 'center'\n          }}>\n            <div style={{ flex: 1 }}>\n              <div style={{ fontSize: '0.85rem', fontWeight: '600', color: 'var(--text-primary)' }}>\n                {selectedApp.applicationData?.companyName}\n              </div>\n              <div style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', marginTop: '2px' }}>\n                ID: {selectedApp.id} â€¢ {selectedApp.documents?.length || 0} documents â€¢ Status: {selectedApp.status}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {!selectedApp ? (\n        <div style={{ \n          padding: 'var(--space-2xl)', \n          textAlign: 'center',\n          background: 'rgba(255, 255, 255, 0.03)',\n          borderRadius: 'var(--radius-lg)',\n          border: '1px dashed rgba(255, 255, 255, 0.2)'\n        }}>\n          <FiAlertCircle size={48} style={{ color: 'var(--text-secondary)', margin: '0 auto 1rem' }} />\n          <p style={{ color: 'var(--text-primary)', fontSize: '1rem', marginBottom: '0.5rem' }}>\n            No Application Selected\n          </p>\n          <p style={{ color: 'var(--text-secondary)', fontSize: '0.875rem' }}>\n            Please select an application from the dropdown above to create a Notice of Compliance\n          </p>\n        </div>\n      ) : (\n        <>\n      {/* Evaluation Summary */}\n      {loadingEvaluation ? (\n        <div className=\"noc-section card-glass\" style={{ marginBottom: 'var(--space-lg)' }}>\n          <div style={{ padding: 'var(--space-xl)', textAlign: 'center' }}>\n            <div className=\"loading-spinner\" style={{ margin: '0 auto 1rem' }}></div>\n            <p style={{ color: 'var(--text-secondary)' }}>Loading AI evaluation data...</p>\n          </div>\n        </div>\n      ) : evaluation ? (\n        <div className=\"noc-section card-glass\" style={{ marginBottom: 'var(--space-lg)' }}>\n          <h3 className=\"text-sm font-semibold mb-lg\">Evaluation Summary</h3>\n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', \n            gap: 'var(--space-md)' \n          }}>\n            <div style={{ \n              padding: 'var(--space-md)', \n              background: 'rgba(59, 130, 246, 0.1)', \n              borderRadius: 'var(--radius-md)',\n              border: '1px solid rgba(59, 130, 246, 0.3)'\n            }}>\n              <div style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', marginBottom: '4px' }}>Overall Score</div>\n              <div style={{ fontSize: '1.5rem', fontWeight: '700', color: 'rgb(59, 130, 246)' }}>\n                {evaluation.overallScore}/100\n              </div>\n            </div>\n            <div style={{ \n              padding: 'var(--space-md)', \n              background: evaluation.riskLevel === 'low' ? 'rgba(16, 185, 129, 0.1)' : \n                         evaluation.riskLevel === 'medium' ? 'rgba(251, 191, 36, 0.1)' :\n                         'rgba(239, 68, 68, 0.1)',\n              borderRadius: 'var(--radius-md)',\n              border: `1px solid ${evaluation.riskLevel === 'low' ? 'rgba(16, 185, 129, 0.3)' : \n                                   evaluation.riskLevel === 'medium' ? 'rgba(251, 191, 36, 0.3)' :\n                                   'rgba(239, 68, 68, 0.3)'}`\n            }}>\n              <div style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', marginBottom: '4px' }}>Risk Level</div>\n              <div style={{ \n                fontSize: '0.9rem', \n                fontWeight: '700', \n                textTransform: 'uppercase',\n                color: evaluation.riskLevel === 'low' ? 'rgb(16, 185, 129)' : \n                       evaluation.riskLevel === 'medium' ? 'rgb(251, 191, 36)' :\n                       'rgb(239, 68, 68)'\n              }}>\n                {evaluation.riskLevel}\n              </div>\n            </div>\n            <div style={{ \n              padding: 'var(--space-md)', \n              background: evaluation.recommendation === 'approve' ? 'rgba(16, 185, 129, 0.1)' : \n                         evaluation.recommendation === 'conditional-approval' ? 'rgba(59, 130, 246, 0.1)' :\n                         'rgba(239, 68, 68, 0.1)',\n              borderRadius: 'var(--radius-md)',\n              border: `1px solid ${evaluation.recommendation === 'approve' ? 'rgba(16, 185, 129, 0.3)' : \n                                   evaluation.recommendation === 'conditional-approval' ? 'rgba(59, 130, 246, 0.3)' :\n                                   'rgba(239, 68, 68, 0.3)'}`\n            }}>\n              <div style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', marginBottom: '4px' }}>Recommendation</div>\n              <div style={{ \n                fontSize: '0.75rem', \n                fontWeight: '700',\n                color: evaluation.recommendation === 'approve' ? 'rgb(16, 185, 129)' : \n                       evaluation.recommendation === 'conditional-approval' ? 'rgb(59, 130, 246)' :\n                       'rgb(239, 68, 68)'\n              }}>\n                {evaluation.recommendation.replace('-', ' ').toUpperCase()}\n              </div>\n            </div>\n            <div style={{ \n              padding: 'var(--space-md)', \n              background: 'rgba(168, 85, 247, 0.1)', \n              borderRadius: 'var(--radius-md)',\n              border: '1px solid rgba(168, 85, 247, 0.3)'\n            }}>\n              <div style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', marginBottom: '4px' }}>Model Used</div>\n              <div style={{ fontSize: '0.85rem', fontWeight: '700', color: 'rgb(168, 85, 247)' }}>\n                {(evaluation as any).modelUsed || 'gpt-5.2'}\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"noc-section card-glass\" style={{ marginBottom: 'var(--space-lg)' }}>\n          <div style={{ \n            padding: 'var(--space-lg)', \n            textAlign: 'center',\n            background: 'rgba(251, 191, 36, 0.1)',\n            borderRadius: 'var(--radius-md)',\n            border: '1px solid rgba(251, 191, 36, 0.3)'\n          }}>\n            <FiAlertCircle size={32} style={{ color: 'rgb(251, 191, 36)', marginBottom: '8px' }} />\n            <p style={{ color: 'var(--text-primary)', marginBottom: '8px' }}>No evaluation data available</p>\n            <p style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', marginBottom: '12px' }}>\n              An AI evaluation is recommended before generating NOC\n            </p>\n            <button \n              onClick={loadEvaluation}\n              className=\"btn btn-primary btn-sm\"\n              style={{ margin: '0 auto' }}\n            >\n              Run AI Evaluation\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"noc-content\" style={{ display: 'flex', flexDirection: 'column', gap: 'var(--space-lg)' }}>\n        {/* Basic Information */}\n        <div className=\"noc-section card-glass\">\n          <h3 className=\"text-sm font-semibold mb-lg\">Basic Information</h3>\n          <div className=\"form-grid\">\n            <div className=\"form-group\">\n              <label className=\"text-xs font-medium\">License Number</label>\n              <input\n                type=\"text\"\n                value={licenseNumber}\n                onChange={(e) => setLicenseNumber(e.target.value)}\n                className=\"text-sm\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-xs font-medium\">Valid From</label>\n              <div className=\"date-input-wrapper\">\n                <input\n                  type=\"date\"\n                  value={validFrom}\n                  onChange={(e) => setValidFrom(e.target.value)}\n                  className=\"text-sm date-input\"\n                />\n                <FiCalendar className=\"date-icon\" />\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-xs font-medium\">Valid Until</label>\n              <div className=\"date-input-wrapper\">\n                <input\n                  type=\"date\"\n                  value={validUntil}\n                  onChange={(e) => setValidUntil(e.target.value)}\n                  className=\"text-sm date-input\"\n                />\n                <FiCalendar className=\"date-icon\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Conditions */}\n        <div className=\"noc-section card-glass\">\n          <div className=\"mb-lg\">\n            <h3 className=\"text-sm font-semibold\" style={{ marginBottom: '0.5rem', color: 'rgba(255, 255, 255, 0.95)', fontSize: '1.05rem' }}>\n              Compliance Conditions\n            </h3>\n            {evaluation?.conditions && evaluation.conditions.length > 0 && (\n              <p style={{ \n                fontSize: '0.8rem', \n                color: 'rgba(147, 197, 253, 0.9)', \n                marginTop: '4px',\n                fontWeight: '500'\n              }}>\n                âœ¨ Auto-populated from AI evaluation ({evaluation.conditions.length} conditions)\n              </p>\n            )}\n          </div>\n\n          {conditions.length > 0 ? (\n            <div className=\"conditions-list\">\n              {conditions.map((condition, index) => (\n                <div key={index} className=\"condition-item\">\n                  <span className=\"condition-number\">{index + 1}</span>\n                  <span className=\"condition-text\">{condition}</span>\n                  <button\n                    onClick={() => handleRemoveCondition(index)}\n                    className=\"btn-remove\"\n                    title=\"Remove condition\"\n                  >\n                    <FiX size={16} />\n                  </button>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div style={{ \n              padding: 'var(--space-lg)', \n              textAlign: 'center', \n              color: 'rgba(255, 255, 255, 0.7)',\n              background: 'rgba(255, 255, 255, 0.05)',\n              borderRadius: 'var(--radius-md)',\n              border: '1px dashed rgba(255, 255, 255, 0.2)'\n            }}>\n              No conditions specified. Add conditions using the input above.\n            </div>\n          )}\n        </div>\n\n        {/* Signatories */}\n        <div className=\"noc-section card-glass\">\n          <div className=\"mb-lg\">\n            <h3 className=\"text-sm font-semibold\" style={{ color: 'rgba(255, 255, 255, 0.95)', fontSize: '1.05rem' }}>Authorized Signatories</h3>\n            <p className=\"text-xs\" style={{ color: 'rgba(255,255,255,0.75)' }}>\n              Upload a clear signature image: dark ink on plain white background, well-cropped, no shadows.\n            </p>\n          </div>\n\n          <div className=\"signatories-list\">\n            {signatories.map((sig, index) => (\n              <div key={sig.signatoryId} className=\"signatory-card\">\n                <div className=\"form-grid\">\n                  <div className=\"form-group\">\n                    <label className=\"text-xs font-medium\">Name</label>\n                    <input\n                      type=\"text\"\n                      value={sig.name}\n                      onChange={(e) => handleUpdateSignatory(index, 'name', e.target.value)}\n                      className=\"text-sm\"\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label className=\"text-xs font-medium\">Title/Position</label>\n                    <input\n                      type=\"text\"\n                      value={sig.title}\n                      onChange={(e) => handleUpdateSignatory(index, 'title', e.target.value)}\n                      className=\"text-sm\"\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label className=\"text-xs font-medium\">Signature Image</label>\n                    <input\n                      type=\"file\"\n                      accept=\"image/png,image/jpeg,image/jpg\"\n                      onChange={async (e) => {\n                        const file = e.target.files?.[0];\n                        if (!file) return;\n                        \n                        try {\n                          console.log('Processing signature file:', file.name, file.type, file.size);\n                          const base64 = await convertFileToBase64(file);\n                          console.log('Signature uploaded:', { index, fileName: file.name, base64Length: base64.length });\n                          handleUpdateSignatory(index, 'signatureImage', base64);\n                        } catch (err) {\n                          console.error('Error uploading signature:', err);\n                          window.alert('Failed to upload signature image. Please try again.');\n                        }\n                      }}\n                    />\n                    {sig.signatureImage && (\n                      <div style={{ fontSize: '0.75rem', color: 'rgb(34, 197, 94)', marginTop: '4px', fontWeight: '500' }}>\n                        âœ“ Signature uploaded ({Math.round(sig.signatureImage.length / 1024)}KB)\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"form-group\">\n                    <label className=\"text-xs font-medium\">Signature Date</label>\n                    <div className=\"date-input-wrapper\">\n                      <input\n                        type=\"date\"\n                        value={sig.signatureDate || ''}\n                        onChange={(e) => handleUpdateSignatory(index, 'signatureDate', e.target.value)}\n                        className=\"text-sm date-input\"\n                      />\n                      <FiCalendar className=\"date-icon\" />\n                    </div>\n                  </div>\n                  <div className=\"form-group\">\n                    <label className=\"text-xs font-medium\">Status</label>\n                    <select \n                      value={sig.status}\n                      onChange={(e) => handleUpdateSignatory(index, 'status', e.target.value)}\n                      className=\"text-sm\"\n                    >\n                      <option value=\"pending\">Pending</option>\n                      <option value=\"signed\">Signed</option>\n                      <option value=\"declined\">Declined</option>\n                    </select>\n                  </div>\n                </div>\n                {sig.isAdding && (\n                  <button\n                    onClick={() => handleRemoveSignatory(index)}\n                    className=\"btn-remove-signatory\"\n                  >\n                    <FiX size={14} />\n                  </button>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Subject and Additional Notes */}\n        <div className=\"noc-section card-glass\">\n          <h3 className=\"text-sm font-semibold\" style={{ color: 'rgba(255, 255, 255, 0.95)', fontSize: '1.05rem' }}>Document Details</h3>\n          <div className=\"form-grid\">\n            <div className=\"form-group\" style={{ gridColumn: '1 / -1' }}>\n              <label className=\"text-xs font-medium\">Applicant Address</label>\n              <textarea \n                value={applicantAddress} \n                onChange={(e) => setApplicantAddress(e.target.value)} \n                className=\"text-sm\" \n                rows={2}\n                placeholder=\"Enter the complete address of the applicant\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-xs font-medium\">Subject</label>\n              <input type=\"text\" value={nocSubject} onChange={(e) => setNocSubject(e.target.value)} className=\"text-sm\" />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-xs font-medium\">PDF Font Family</label>\n              <select value={fontFamily} onChange={(e) => setFontFamily(e.target.value)} className=\"text-sm\">\n                <option value=\"times\">Times New Roman (Professional)</option>\n                <option value=\"helvetica\">Helvetica (Modern)</option>\n                <option value=\"courier\">Courier (Typewriter)</option>\n              </select>\n            </div>\n            <div className=\"form-group\" style={{ gridColumn: '1 / -1' }}>\n              <label className=\"text-xs font-medium\">Additional Text (notes)</label>\n              <div style={{ backgroundColor: 'white', borderRadius: '4px', minHeight: '200px', resize: 'vertical', overflow: 'auto' }}>\n                <ReactQuill \n                  theme=\"snow\"\n                  value={nocAdditionalText} \n                  onChange={setNocAdditionalText}\n                  modules={{\n                    toolbar: [\n                      [{ 'header': [1, 2, 3, false] }],\n                      ['bold', 'italic', 'underline'],\n                      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                      [{ 'align': [] }],\n                      ['clean']\n                    ]\n                  }}\n                  style={{ height: '180px', marginBottom: '40px' }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Embossed / Raised 3D Seal Upload */}\n        <div className=\"noc-section card-glass\">\n          <h3 className=\"text-sm font-semibold\" style={{ color: 'rgba(255, 255, 255, 0.95)', fontSize: '1.05rem' }}>Embossed / Raised 3D Seal</h3>\n          <p className=\"text-xs\" style={{ color: 'rgba(255,255,255,0.75)' }}>\n            Upload a high-contrast seal image on plain background (PNG/JPEG). This will be placed on the document.\n          </p>\n          <input\n            type=\"file\"\n            accept=\"image/png,image/jpeg,image/jpg\"\n            onChange={async (e) => {\n              const file = e.target.files?.[0];\n              if (!file) return;\n              \n              try {\n                console.log('Processing seal file:', file.name, file.type, file.size);\n                const base64 = await convertFileToBase64(file);\n                console.log('Seal uploaded:', { fileName: file.name, base64Length: base64.length });\n                setSealImage(base64);\n              } catch (err) {\n                console.error('Error uploading seal:', err);\n                window.alert('Failed to upload seal image. Please try again.');\n              }\n            }}\n          />\n          {sealImage && (\n            <div style={{ fontSize: '0.75rem', color: 'rgb(34, 197, 94)', marginTop: '8px', fontWeight: '500' }}>\n              âœ“ Seal image uploaded ({Math.round(sealImage.length / 1024)}KB)\n            </div>\n          )}\n        </div>\n\n        {/* Generate NOC */}\n        <div className=\"noc-section\">\n          <button\n            onClick={handleGenerateNOC}\n            className=\"btn btn-primary w-full\"\n            style={{padding: '0.875rem', fontSize: '1rem'}}\n          >\n            <FiDownload size={18} /> Generate & Download NOC Document\n          </button>\n        </div>\n      </div>\n      </>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}